{"version":3,"sources":["node_modules/svelte/internal/index.mjs","node_modules/gun/gun.js","src/App.svelte","src/main.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["noop","identity","x","assign","tar","src","k","is_promise","value","then","add_location","element","file","line","column","char","__svelte_meta","loc","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","not_equal","is_empty","obj","keys","length","validate_store","store","name","subscribe","Error","callbacks","unsub","unsubscribe","get_store_value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","i","update_slot","slot","slot_definition","get_slot_changes_fn","get_slot_context_fn","slot_changes","slot_context","p","exclude_internal_props","props","result","compute_rest_props","rest","Set","has","compute_slots","slots","key","once","ran","args","call","null_to_empty","set_store_value","ret","set","has_prop","prop","prototype","hasOwnProperty","action_destroyer","action_result","destroy","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","set_now","set_raf","tasks","run_tasks","task","c","delete","f","size","clear_loops","clear","loop","promise","Promise","fulfill","add","abort","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","document","createElement","element_is","is","object_without_properties","exclude","indexOf","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","stop_propagation","stopPropagation","self","attr","attribute","removeAttribute","getAttribute","setAttribute","set_attributes","attributes","descriptors","getOwnPropertyDescriptors","__proto__","style","cssText","set_svg_attributes","set_custom_element_data","xlink_attr","setAttributeNS","get_binding_group_value","group","__value","checked","Array","from","to_number","time_ranges_to_array","ranges","array","start","end","children","childNodes","claim_element","nodes","svg","nodeName","j","remove","splice","claim_text","nodeType","claim_space","set_data","wholeText","set_input_value","input","set_input_type","type","e","set_style","important","setProperty","select_option","select","option","selected","select_options","select_value","selected_option","querySelector","select_multiple_value","map","querySelectorAll","crossorigin","is_crossorigin","parent","error","add_resize_listener","computed_style","getComputedStyle","z_index","parseInt","zIndex","position","iframe","tabIndex","source","contentWindow","onload","toggle_class","toggle","classList","custom_event","detail","createEvent","initCustomEvent","query_selector_all","selector","body","HtmlTag","constructor","n","m","html","t","h","innerHTML","active_docs","active","hash","str","charCodeAt","create_rule","duration","delay","ease","uid","step","keyframes","rule","doc","ownerDocument","stylesheet","__svelte_stylesheet","head","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","deleted","join","clear_rules","deleteRule","create_animation","params","to","getBoundingClientRect","left","right","top","bottom","easing","start_time","tick","css","running","started","stop","fix_position","width","height","add_transform","transform","current_component","set_current_component","get_current_component","beforeUpdate","before_update","onMount","on_mount","afterUpdate","after_update","onDestroy","createEventDispatcher","setContext","context","getContext","get","bubble","dirty_components","intros","enabled","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","schedule_update","flush","add_render_callback","add_flush_callback","flushing","seen_callbacks","update","pop","fragment","wait","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","config","animation_name","cleanup","go","end_time","invalidate","create_out_transition","reset","create_bidirectional_transition","intro","running_program","pending_program","clear_animation","init","program","abs","handle_promise","info","token","index","resolved","child_ctx","current","needs_flush","blocks","mount","catch","hasCatch","pending","globals","globalThis","global","destroy_block","lookup","outro_and_destroy_block","fix_and_destroy_block","fix_and_outro_and_destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","get_context","old_indexes","new_blocks","new_lookup","Map","deltas","will_move","did_move","first","new_block","old_block","new_key","old_key","validate_each_keys","get_spread_update","levels","updates","to_null_out","accounted_for","get_spread_object","spread_props","boolean_attributes","invalid_attribute_name_character","spread","classes_to_add","class","test","toLowerCase","String","replace","escaped","escape","match","each","items","missing_component","$$render","validate_component","debug","values","console","log","create_ssr_component","bindings","parent_component","render","title","code","add_attribute","boolean","JSON","stringify","add_classes","classes","bind","bound","create_component","claim_component","parent_nodes","l","mount_component","new_on_destroy","destroy_component","make_dirty","fill","instance","create_fragment","prop_values","skip_bound","ready","hydrate","SvelteElement","HTMLElement","attachShadow","mode","connectedCallback","slotted","attributeChangedCallback","_oldValue","newValue","$destroy","$on","$set","$$props","$$set","SvelteComponent","dispatch_dev","version","append_dev","insert_dev","detach_dev","detach_between_dev","before","after","nextSibling","detach_before_dev","previousSibling","detach_after_dev","listen_dev","has_prevent_default","has_stop_propagation","modifiers","dispose","attr_dev","prop_dev","property","dataset_dev","dataset","set_data_dev","validate_each_argument","arg","msg","Symbol","iterator","validate_slots","slot_key","warn","SvelteComponentDev","$$inline","$capture_state","$inject_state","loop_guard","timeout","USE","req","require","R","mod","path","exports","toString","module","MODULE","Type","bi","Boolean","num","list_is","parseFloat","Infinity","ify","random","s","charAt","floor","tmp","u","slit","sort","A","B","obj_map","put","v","del","as","obj_is","parse","obj_has","copy","arguments","ll","lle","ii","time","getTime","fn_is","onto","tag","be","off","the","last","back","on","setImmediate","setTimeout","puff","Q","S","STAT","HAM","machineState","incomingState","currentState","incomingValue","currentValue","defer","historical","converge","incoming","Lexical","state","err","Val","text_is","bi_is","num_is","link","rel","rel_","id","obj_put","Node","soul","soul_","text_random","obj_del","State","N","drift","D","perf","timing","navigationStart","S_","N_","lex","obj_as","val","obj_copy","opt","Graph","g","obj_empty","nf","env","at","shell","graph","seen","root","valid","concat","prev","invalid","arr","ask","clearTimeout","lack","Dup","dup","age","check","dt","track","it","was","drop","Gun","$","chain","toJSON","gun","universe","out","eve","DBG","text_rand","_get","uc","ua","ue","lot","more","states","ERR","cut","_soul","state_","node_","val_is","ham","pe","fire","stun","ok","vertex","state_is","known","machine","MD","miss","ph","pa","pm","state_ify","super","_put","souls","ack","cat","verify","merge","async","diff","obj_to","and","patch","_has","faith","ram","ga","gm","gd","peers","url","native","state_lex","rel_is","C","apply","w","GUN","only","yes","sub","output","meta","pass","change","echo","not","relate","ev","reverb","via","dub","proxy","neat","cache","use","rid","mum","acks","jam","node_soul","M","res","ref","any","batch","no","iife","G","fromCharCode","pat","sat","reverse","solve","uuid","eas","act","subs","nix","n_","item","localStorage","setItem","removeItem","getItem","prefix","gap","disk","send","lS","count","retry","Mesh","mesh","pack","memory","dup_check","dup_track","hear","raw","peer","say","dam","P","hp","leap","ST","hd","tomap","SMIA","message","y","way","ps","pl","wr","wire","pid","tail","queue","hi","met","hied","bye","close","gets","WebSocket","websocket","webkitWebSocket","mozWebSocket","open","onclose","reconnect","onerror","onopen","onmessage","hidden","main","pre","t1","button","mounted","textContent","claim","handleClick","$$self","$$invalidate","$$slots","writable_props","App","tagName","app","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","checkedAssets","assetsToAccept","isParcelRequire","hostname","location","protocol","ws","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","dep","isArray","Function","deps","cached","some"],"mappings":"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","file":"main.1e43358e.js","sourceRoot":"..","sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.29.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n",";(function(){\n\n  /* UNBUILD */\n  function USE(arg, req){\n    return req? require(arg) : arg.slice? USE[R(arg)] : function(mod, path){\n      arg(mod = {exports: {}});\n      USE[R(path)] = mod.exports;\n    }\n    function R(p){\n      return p.split('/').slice(-1).toString().replace('.js','');\n    }\n  }\n  if(typeof module !== \"undefined\"){ var MODULE = module }\n  /* UNBUILD */\n\n\t;USE(function(module){\n\t\t// Generic javascript utilities.\n\t\tvar Type = {};\n\t\t//Type.fns = Type.fn = {is: function(fn){ return (!!fn && fn instanceof Function) }}\n\t\tType.fn = {is: function(fn){ return (!!fn && 'function' == typeof fn) }}\n\t\tType.bi = {is: function(b){ return (b instanceof Boolean || typeof b == 'boolean') }}\n\t\tType.num = {is: function(n){ return !list_is(n) && ((n - parseFloat(n) + 1) >= 0 || Infinity === n || -Infinity === n) }}\n\t\tType.text = {is: function(t){ return (typeof t == 'string') }}\n\t\tType.text.ify = function(t){\n\t\t\tif(Type.text.is(t)){ return t }\n\t\t\tif(typeof JSON !== \"undefined\"){ return JSON.stringify(t) }\n\t\t\treturn (t && t.toString)? t.toString() : t;\n\t\t}\n\t\tType.text.random = function(l, c){\n\t\t\tvar s = '';\n\t\t\tl = l || 24; // you are not going to make a 0 length random number, so no need to check type\n\t\t\tc = c || '0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz';\n\t\t\twhile(l > 0){ s += c.charAt(Math.floor(Math.random() * c.length)); l-- }\n\t\t\treturn s;\n\t\t}\n\t\tType.text.match = function(t, o){ var tmp, u;\n\t\t\tif('string' !== typeof t){ return false }\n\t\t\tif('string' == typeof o){ o = {'=': o} }\n\t\t\to = o || {};\n\t\t\ttmp = (o['='] || o['*'] || o['>'] || o['<']);\n\t\t\tif(t === tmp){ return true }\n\t\t\tif(u !== o['=']){ return false }\n\t\t\ttmp = (o['*'] || o['>'] || o['<']);\n\t\t\tif(t.slice(0, (tmp||'').length) === tmp){ return true }\n\t\t\tif(u !== o['*']){ return false }\n\t\t\tif(u !== o['>'] && u !== o['<']){\n\t\t\t\treturn (t >= o['>'] && t <= o['<'])? true : false;\n\t\t\t}\n\t\t\tif(u !== o['>'] && t >= o['>']){ return true }\n\t\t\tif(u !== o['<'] && t <= o['<']){ return true }\n\t\t\treturn false;\n\t\t}\n\t\tType.text.hash = function(s, c){ // via SO\n\t\t\tif(typeof s !== 'string'){ return }\n\t    c = c || 0;\n\t    if(!s.length){ return c }\n\t    for(var i=0,l=s.length,n; i<l; ++i){\n\t      n = s.charCodeAt(i);\n\t      c = ((c<<5)-c)+n;\n\t      c |= 0;\n\t    }\n\t    return c;\n\t  }\n\t\tType.list = {is: function(l){ return (l instanceof Array) }}\n\t\tType.list.slit = Array.prototype.slice;\n\t\tType.list.sort = function(k){ // creates a new sort function based off some key\n\t\t\treturn function(A,B){\n\t\t\t\tif(!A || !B){ return 0 } A = A[k]; B = B[k];\n\t\t\t\tif(A < B){ return -1 }else if(A > B){ return 1 }\n\t\t\t\telse { return 0 }\n\t\t\t}\n\t\t}\n\t\tType.list.map = function(l, c, _){ return obj_map(l, c, _) }\n\t\tType.list.index = 1; // change this to 0 if you want non-logical, non-mathematical, non-matrix, non-convenient array notation\n\t\tType.obj = {is: function(o){ return o? (o instanceof Object && o.constructor === Object) || Object.prototype.toString.call(o).match(/^\\[object (\\w+)\\]$/)[1] === 'Object' : false }}\n\t\tType.obj.put = function(o, k, v){ return (o||{})[k] = v, o }\n\t\tType.obj.has = function(o, k){ return o && Object.prototype.hasOwnProperty.call(o, k) }\n\t\tType.obj.del = function(o, k){\n\t\t\tif(!o){ return }\n\t\t\to[k] = null;\n\t\t\tdelete o[k];\n\t\t\treturn o;\n\t\t}\n\t\tType.obj.as = function(o, k, v, u){ return o[k] = o[k] || (u === v? {} : v) }\n\t\tType.obj.ify = function(o){\n\t\t\tif(obj_is(o)){ return o }\n\t\t\ttry{o = JSON.parse(o);\n\t\t\t}catch(e){o={}};\n\t\t\treturn o;\n\t\t}\n\t\t;(function(){ var u;\n\t\t\tfunction map(v,k){\n\t\t\t\tif(obj_has(this,k) && u !== this[k]){ return }\n\t\t\t\tthis[k] = v;\n\t\t\t}\n\t\t\tType.obj.to = function(from, to){\n\t\t\t\tto = to || {};\n\t\t\t\tobj_map(from, map, to);\n\t\t\t\treturn to;\n\t\t\t}\n\t\t}());\n\t\tType.obj.copy = function(o){ // because http://web.archive.org/web/20140328224025/http://jsperf.com/cloning-an-object/2\n\t\t\treturn !o? o : JSON.parse(JSON.stringify(o)); // is shockingly faster than anything else, and our data has to be a subset of JSON anyways!\n\t\t}\n\t\t;(function(){\n\t\t\tfunction empty(v,i){ var n = this.n, u;\n\t\t\t\tif(n && (i === n || (obj_is(n) && obj_has(n, i)))){ return }\n\t\t\t\tif(u !== i){ return true }\n\t\t\t}\n\t\t\tType.obj.empty = function(o, n){\n\t\t\t\tif(!o){ return true }\n\t\t\t\treturn obj_map(o,empty,{n:n})? false : true;\n\t\t\t}\n\t\t}());\n\t\t;(function(){\n\t\t\tfunction t(k,v){\n\t\t\t\tif(2 === arguments.length){\n\t\t\t\t\tt.r = t.r || {};\n\t\t\t\t\tt.r[k] = v;\n\t\t\t\t\treturn;\n\t\t\t\t} t.r = t.r || [];\n\t\t\t\tt.r.push(k);\n\t\t\t};\n\t\t\tvar keys = Object.keys, map, u;\n\t\t\tObject.keys = Object.keys || function(o){ return map(o, function(v,k,t){t(k)}) }\n\t\t\tType.obj.map = map = function(l, c, _){\n\t\t\t\tvar u, i = 0, x, r, ll, lle, f = 'function' == typeof c;\n\t\t\t\tt.r = u;\n\t\t\t\tif(keys && obj_is(l)){\n\t\t\t\t\tll = keys(l); lle = true;\n\t\t\t\t}\n\t\t\t\t_ = _ || {};\n\t\t\t\tif(list_is(l) || ll){\n\t\t\t\t\tx = (ll || l).length;\n\t\t\t\t\tfor(;i < x; i++){\n\t\t\t\t\t\tvar ii = (i + Type.list.index);\n\t\t\t\t\t\tif(f){\n\t\t\t\t\t\t\tr = lle? c.call(_, l[ll[i]], ll[i], t) : c.call(_, l[i], ii, t);\n\t\t\t\t\t\t\tif(r !== u){ return r }\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//if(Type.test.is(c,l[i])){ return ii } // should implement deep equality testing!\n\t\t\t\t\t\t\tif(c === l[lle? ll[i] : i]){ return ll? ll[i] : ii } // use this for now\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor(i in l){\n\t\t\t\t\t\tif(f){\n\t\t\t\t\t\t\tif(obj_has(l,i)){\n\t\t\t\t\t\t\t\tr = _? c.call(_, l[i], i, t) : c(l[i], i, t);\n\t\t\t\t\t\t\t\tif(r !== u){ return r }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//if(a.test.is(c,l[i])){ return i } // should implement deep equality testing!\n\t\t\t\t\t\t\tif(c === l[i]){ return i } // use this for now\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn f? t.r : Type.list.index? 0 : -1;\n\t\t\t}\n\t\t}());\n\t\tType.time = {};\n\t\tType.time.is = function(t){ return t? t instanceof Date : (+new Date().getTime()) }\n\n\t\tvar fn_is = Type.fn.is;\n\t\tvar list_is = Type.list.is;\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_has = obj.has, obj_map = obj.map;\n\t\tmodule.exports = Type;\n\t})(USE, './type');\n\n\t;USE(function(module){\n\t\t// On event emitter generic javascript utility.\n\t\tmodule.exports = function onto(tag, arg, as){\n\t\t\tif(!tag){ return {to: onto} }\n\t\t\tvar u, tag = (this.tag || (this.tag = {}))[tag] ||\n\t\t\t(this.tag[tag] = {tag: tag, to: onto._ = {\n\t\t\t\tnext: function(arg){ var tmp;\n\t\t\t\t\tif((tmp = this.to)){\n\t\t\t\t\t\ttmp.next(arg);\n\t\t\t\t}}\n\t\t\t}});\n\t\t\tif('function' == typeof arg){\n\t\t\t\tvar be = {\n\t\t\t\t\toff: onto.off ||\n\t\t\t\t\t(onto.off = function(){\n\t\t\t\t\t\tif(this.next === onto._.next){ return !0 }\n\t\t\t\t\t\tif(this === this.the.last){\n\t\t\t\t\t\t\tthis.the.last = this.back;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.to.back = this.back;\n\t\t\t\t\t\tthis.next = onto._.next;\n\t\t\t\t\t\tthis.back.to = this.to;\n\t\t\t\t\t\tif(this.the.last === this.the){\n\t\t\t\t\t\t\tdelete this.on.tag[this.the.tag];\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tto: onto._,\n\t\t\t\t\tnext: arg,\n\t\t\t\t\tthe: tag,\n\t\t\t\t\ton: this,\n\t\t\t\t\tas: as,\n\t\t\t\t};\n\t\t\t\t(be.back = tag.last || tag).to = be;\n\t\t\t\treturn tag.last = be;\n\t\t\t}\n\t\t\tif((tag = tag.to) && u !== arg){ tag.next(arg) }\n\t\t\treturn tag;\n\t\t};\n\t})(USE, './onto');\n\n\t;USE(function(module){\n\t\tvar to = (typeof setImmediate !== \"undefined\")? setImmediate : setTimeout, puff = function(cb){\n\t\t\tif(Q.length){ Q.push(cb); return } Q = [cb];\n\t\t\tto(function go(S){ S = S || +new Date;\n\t\t\t\tvar i = 0, cb; while(i < 9 && (cb = Q[i++])){ cb() }\n\t\t\t\tconsole.STAT && console.STAT(S, +new Date - S, 'puff');\n\t\t\t\tif(cb && !(+new Date - S)){ return go(S) }\n\t\t\t\tif(!(Q = Q.slice(i)).length){ return }\n\t\t\t\tto(go, 0);\n\t\t\t}, 0);\n\t\t}, Q = [];\n\t\tmodule.exports = setTimeout.puff = puff;\n\t})(USE, './puff');\n\n\t;USE(function(module){\n\t\t/* Based on the Hypothetical Amnesia Machine thought experiment */\n\t\tfunction HAM(machineState, incomingState, currentState, incomingValue, currentValue){\n\t\t\tif(machineState < incomingState){\n\t\t\t\treturn {defer: true}; // the incoming value is outside the boundary of the machine's state, it must be reprocessed in another state.\n\t\t\t}\n\t\t\tif(incomingState < currentState){\n\t\t\t\treturn {historical: true}; // the incoming value is within the boundary of the machine's state, but not within the range.\n\n\t\t\t}\n\t\t\tif(currentState < incomingState){\n\t\t\t\treturn {converge: true, incoming: true}; // the incoming value is within both the boundary and the range of the machine's state.\n\n\t\t\t}\n\t\t\tif(incomingState === currentState){\n\t\t\t\tincomingValue = Lexical(incomingValue) || \"\";\n\t\t\t\tcurrentValue = Lexical(currentValue) || \"\";\n\t\t\t\tif(incomingValue === currentValue){ // Note: while these are practically the same, the deltas could be technically different\n\t\t\t\t\treturn {state: true};\n\t\t\t\t}\n\t\t\t\t/*\n\t\t\t\t\tThe following is a naive implementation, but will always work.\n\t\t\t\t\tNever change it unless you have specific needs that absolutely require it.\n\t\t\t\t\tIf changed, your data will diverge unless you guarantee every peer's algorithm has also been changed to be the same.\n\t\t\t\t\tAs a result, it is highly discouraged to modify despite the fact that it is naive,\n\t\t\t\t\tbecause convergence (data integrity) is generally more important.\n\t\t\t\t\tAny difference in this algorithm must be given a new and different name.\n\t\t\t\t*/\n\t\t\t\tif(incomingValue < currentValue){ // Lexical only works on simple value types!\n\t\t\t\t\treturn {converge: true, current: true};\n\t\t\t\t}\n\t\t\t\tif(currentValue < incomingValue){ // Lexical only works on simple value types!\n\t\t\t\t\treturn {converge: true, incoming: true};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {err: \"Invalid CRDT Data: \"+ incomingValue +\" to \"+ currentValue +\" at \"+ incomingState +\" to \"+ currentState +\"!\"};\n\t\t}\n\t\tif(typeof JSON === 'undefined'){\n\t\t\tthrow new Error(\n\t\t\t\t'JSON is not included in this browser. Please load it first: ' +\n\t\t\t\t'ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js'\n\t\t\t);\n\t\t}\n\t\tvar Lexical = JSON.stringify, undefined;\n\t\tmodule.exports = HAM;\n\t})(USE, './HAM');\n\n\t;USE(function(module){\n\t\tvar Type = USE('./type');\n\t\tvar Val = {};\n\t\tVal.is = function(v){ // Valid values are a subset of JSON: null, binary, number (!Infinity), text, or a soul relation. Arrays need special algorithms to handle concurrency, so they are not supported directly. Use an extension that supports them if needed but research their problems first.\n\t\t\tif(v === u){ return false }\n\t\t\tif(v === null){ return true } // \"deletes\", nulling out keys.\n\t\t\tif(v === Infinity){ return false } // we want this to be, but JSON does not support it, sad face.\n\t\t\tif(text_is(v) // by \"text\" we mean strings.\n\t\t\t|| bi_is(v) // by \"binary\" we mean boolean.\n\t\t\t|| num_is(v)){ // by \"number\" we mean integers or decimals.\n\t\t\t\treturn true; // simple values are valid.\n\t\t\t}\n\t\t\treturn Val.link.is(v) || false; // is the value a soul relation? Then it is valid and return it. If not, everything else remaining is an invalid data type. Custom extensions can be built on top of these primitives to support other types.\n\t\t}\n\t\tVal.link = Val.rel = {_: '#'};\n\t\t;(function(){\n\t\t\tVal.link.is = function(v){ // this defines whether an object is a soul relation or not, they look like this: {'#': 'UUID'}\n\t\t\t\tif(v && v[rel_] && !v._ && obj_is(v)){ // must be an object.\n\t\t\t\t\tvar o = {};\n\t\t\t\t\tobj_map(v, map, o);\n\t\t\t\t\tif(o.id){ // a valid id was found.\n\t\t\t\t\t\treturn o.id; // yay! Return it.\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false; // the value was not a valid soul relation.\n\t\t\t}\n\t\t\tfunction map(s, k){ var o = this; // map over the object...\n\t\t\t\tif(o.id){ return o.id = false } // if ID is already defined AND we're still looping through the object, it is considered invalid.\n\t\t\t\tif(k == rel_ && text_is(s)){ // the key should be '#' and have a text value.\n\t\t\t\t\to.id = s; // we found the soul!\n\t\t\t\t} else {\n\t\t\t\t\treturn o.id = false; // if there exists anything else on the object that isn't the soul, then it is considered invalid.\n\t\t\t\t}\n\t\t\t}\n\t\t}());\n\t\tVal.link.ify = function(t){ return obj_put({}, rel_, t) } // convert a soul into a relation and return it.\n\t\tType.obj.has._ = '.';\n\t\tvar rel_ = Val.link._, u;\n\t\tvar bi_is = Type.bi.is;\n\t\tvar num_is = Type.num.is;\n\t\tvar text_is = Type.text.is;\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_put = obj.put, obj_map = obj.map;\n\t\tmodule.exports = Val;\n\t})(USE, './val');\n\n\t;USE(function(module){\n\t\tvar Type = USE('./type');\n\t\tvar Val = USE('./val');\n\t\tvar Node = {_: '_'};\n\t\tNode.soul = function(n, o){ return (n && n._ && n._[o || soul_]) } // convenience function to check to see if there is a soul on a node and return it.\n\t\tNode.soul.ify = function(n, o){ // put a soul on an object.\n\t\t\to = (typeof o === 'string')? {soul: o} : o || {};\n\t\t\tn = n || {}; // make sure it exists.\n\t\t\tn._ = n._ || {}; // make sure meta exists.\n\t\t\tn._[soul_] = o.soul || n._[soul_] || text_random(); // put the soul on it.\n\t\t\treturn n;\n\t\t}\n\t\tNode.soul._ = Val.link._;\n\t\t;(function(){\n\t\t\tNode.is = function(n, cb, as){ var s; // checks to see if an object is a valid node.\n\t\t\t\tif(!obj_is(n)){ return false } // must be an object.\n\t\t\t\tif(s = Node.soul(n)){ // must have a soul on it.\n\t\t\t\t\treturn !obj_map(n, map, {as:as,cb:cb,s:s,n:n});\n\t\t\t\t}\n\t\t\t\treturn false; // nope! This was not a valid node.\n\t\t\t}\n\t\t\tfunction map(v, k){ // we invert this because the way we check for this is via a negation.\n\t\t\t\tif(k === Node._){ return } // skip over the metadata.\n\t\t\t\tif(!Val.is(v)){ return true } // it is true that this is an invalid node.\n\t\t\t\tif(this.cb){ this.cb.call(this.as, v, k, this.n, this.s) } // optionally callback each key/value.\n\t\t\t}\n\t\t}());\n\t\t;(function(){\n\t\t\tNode.ify = function(obj, o, as){ // returns a node from a shallow object.\n\t\t\t\tif(!o){ o = {} }\n\t\t\t\telse if(typeof o === 'string'){ o = {soul: o} }\n\t\t\t\telse if('function' == typeof o){ o = {map: o} }\n\t\t\t\tif(o.map){ o.node = o.map.call(as, obj, u, o.node || {}) }\n\t\t\t\tif(o.node = Node.soul.ify(o.node || {}, o)){\n\t\t\t\t\tobj_map(obj, map, {o:o,as:as});\n\t\t\t\t}\n\t\t\t\treturn o.node; // This will only be a valid node if the object wasn't already deep!\n\t\t\t}\n\t\t\tfunction map(v, k){ var o = this.o, tmp, u; // iterate over each key/value.\n\t\t\t\tif(o.map){\n\t\t\t\t\ttmp = o.map.call(this.as, v, ''+k, o.node);\n\t\t\t\t\tif(u === tmp){\n\t\t\t\t\t\tobj_del(o.node, k);\n\t\t\t\t\t} else\n\t\t\t\t\tif(o.node){ o.node[k] = tmp }\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(Val.is(v)){\n\t\t\t\t\to.node[k] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}());\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_del = obj.del, obj_map = obj.map;\n\t\tvar text = Type.text, text_random = text.random;\n\t\tvar soul_ = Node.soul._;\n\t\tvar u;\n\t\tmodule.exports = Node;\n\t})(USE, './node');\n\n\t;USE(function(module){\n\t\tvar Type = USE('./type');\n\t\tvar Node = USE('./node');\n\t\tfunction State(){\n\t\t\tvar t;\n\t\t\t/*if(perf){\n\t\t\t\tt = start + perf.now(); // Danger: Accuracy decays significantly over time, even if precise.\n\t\t\t} else {*/\n\t\t\t\tt = +new Date;\n\t\t\t//}\n\t\t\tif(last < t){\n\t\t\t\treturn N = 0, last = t + State.drift;\n\t\t\t}\n\t\t\treturn last = t + ((N += 1) / D) + State.drift;\n\t\t}\n\t\tvar time = Type.time.is, last = -Infinity, N = 0, D = 1000; // WARNING! In the future, on machines that are D times faster than 2016AD machines, you will want to increase D by another several orders of magnitude so the processing speed never out paces the decimal resolution (increasing an integer effects the state accuracy).\n\t\tvar perf = (typeof performance !== 'undefined')? (performance.timing && performance) : false, start = (perf && perf.timing && perf.timing.navigationStart) || (perf = false);\n\t\tvar S_ = State._ = '>';\n\t\tState.drift = 0;\n\t\tState.is = function(n, k, o){ // convenience function to get the state on a key on a node and return it.\n\t\t\tvar tmp = (k && n && n[N_] && n[N_][S_]) || o;\n\t\t\tif(!tmp){ return }\n\t\t\treturn num_is(tmp = tmp[k])? tmp : -Infinity;\n\t\t}\n\t\tState.lex = function(){ return State().toString(36).replace('.','') }\n\t\tState.ify = function(n, k, s, v, soul){ // put a key's state on a node.\n\t\t\tif(!n || !n[N_]){ // reject if it is not node-like.\n\t\t\t\tif(!soul){ // unless they passed a soul\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tn = Node.soul.ify(n, soul); // then make it so!\n\t\t\t}\n\t\t\tvar tmp = obj_as(n[N_], S_); // grab the states data.\n\t\t\tif(u !== k && k !== N_){\n\t\t\t\tif(num_is(s)){\n\t\t\t\t\ttmp[k] = s; // add the valid state.\n\t\t\t\t}\n\t\t\t\tif(u !== v){ // Note: Not its job to check for valid values!\n\t\t\t\t\tn[k] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn n;\n\t\t}\n\t\tState.to = function(from, k, to){\n\t\t\tvar val = (from||{})[k];\n\t\t\tif(obj_is(val)){\n\t\t\t\tval = obj_copy(val);\n\t\t\t}\n\t\t\treturn State.ify(to, k, State.is(from, k), val, Node.soul(from));\n\t\t}\n\t\t;(function(){\n\t\t\tState.map = function(cb, s, as){ var u; // for use with Node.ify\n\t\t\t\tvar o = obj_is(o = cb || s)? o : null;\n\t\t\t\tcb = fn_is(cb = cb || s)? cb : null;\n\t\t\t\tif(o && !cb){\n\t\t\t\t\ts = num_is(s)? s : State();\n\t\t\t\t\to[N_] = o[N_] || {};\n\t\t\t\t\tobj_map(o, map, {o:o,s:s});\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t\tas = as || obj_is(s)? s : u;\n\t\t\t\ts = num_is(s)? s : State();\n\t\t\t\treturn function(v, k, o, opt){\n\t\t\t\t\tif(!cb){\n\t\t\t\t\t\tmap.call({o: o, s: s}, v,k);\n\t\t\t\t\t\treturn v;\n\t\t\t\t\t}\n\t\t\t\t\tcb.call(as || this || {}, v, k, o, opt);\n\t\t\t\t\tif(obj_has(o,k) && u === o[k]){ return }\n\t\t\t\t\tmap.call({o: o, s: s}, v,k);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfunction map(v,k){\n\t\t\t\tif(N_ === k){ return }\n\t\t\t\tState.ify(this.o, k, this.s) ;\n\t\t\t}\n\t\t}());\n\t\tvar obj = Type.obj, obj_as = obj.as, obj_has = obj.has, obj_is = obj.is, obj_map = obj.map, obj_copy = obj.copy;\n\t\tvar num = Type.num, num_is = num.is;\n\t\tvar fn = Type.fn, fn_is = fn.is;\n\t\tvar N_ = Node._, u;\n\t\tmodule.exports = State;\n\t})(USE, './state');\n\n\t;USE(function(module){\n\t\tvar Type = USE('./type');\n\t\tvar Val = USE('./val');\n\t\tvar Node = USE('./node');\n\t\tvar Graph = {};\n\t\t;(function(){\n\t\t\tGraph.is = function(g, cb, fn, as){ // checks to see if an object is a valid graph.\n\t\t\t\tif(!g || !obj_is(g) || obj_empty(g)){ return false } // must be an object.\n\t\t\t\treturn !obj_map(g, map, {cb:cb,fn:fn,as:as}); // makes sure it wasn't an empty object.\n\t\t\t}\n\t\t\tfunction map(n, s){ // we invert this because the way'? we check for this is via a negation.\n\t\t\t\tif(!n || s !== Node.soul(n) || !Node.is(n, this.fn, this.as)){ return true } // it is true that this is an invalid graph.\n\t\t\t\tif(!this.cb){ return }\n\t\t\t\tnf.n = n; nf.as = this.as; // sequential race conditions aren't races.\n\t\t\t\tthis.cb.call(nf.as, n, s, nf);\n\t\t\t}\n\t\t\tfunction nf(fn){ // optional callback for each node.\n\t\t\t\tif(fn){ Node.is(nf.n, fn, nf.as) } // where we then have an optional callback for each key/value.\n\t\t\t}\n\t\t}());\n\t\t;(function(){\n\t\t\tGraph.ify = function(obj, env, as){\n\t\t\t\tvar at = {path: [], obj: obj};\n\t\t\t\tif(!env){\n\t\t\t\t\tenv = {};\n\t\t\t\t} else\n\t\t\t\tif(typeof env === 'string'){\n\t\t\t\t\tenv = {soul: env};\n\t\t\t\t} else\n\t\t\t\tif('function' == typeof env){\n\t\t\t\t\tenv.map = env;\n\t\t\t\t}\n\t\t\t\tif(typeof as === 'string'){\n\t\t\t\t\tenv.soul = env.soul || as;\n\t\t\t\t\tas = u;\n\t\t\t\t}\n\t\t\t\tif(env.soul){\n\t\t\t\t\tat.link = Val.link.ify(env.soul);\n\t\t\t\t}\n\t\t\t\tenv.shell = (as||{}).shell;\n\t\t\t\tenv.graph = env.graph || {};\n\t\t\t\tenv.seen = env.seen || [];\n\t\t\t\tenv.as = env.as || as;\n\t\t\t\tnode(env, at);\n\t\t\t\tenv.root = at.node;\n\t\t\t\treturn env.graph;\n\t\t\t}\n\t\t\tfunction node(env, at){ var tmp;\n\t\t\t\tif(tmp = seen(env, at)){ return tmp }\n\t\t\t\tat.env = env;\n\t\t\t\tat.soul = soul;\n\t\t\t\tif(Node.ify(at.obj, map, at)){\n\t\t\t\t\tat.link = at.link || Val.link.ify(Node.soul(at.node));\n\t\t\t\t\tif(at.obj !== env.shell){\n\t\t\t\t\t\tenv.graph[Val.link.is(at.link)] = at.node;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn at;\n\t\t\t}\n\t\t\tfunction map(v,k,n){\n\t\t\t\tvar at = this, env = at.env, is, tmp;\n\t\t\t\tif(Node._ === k && obj_has(v,Val.link._)){\n\t\t\t\t\treturn n._; // TODO: Bug?\n\t\t\t\t}\n\t\t\t\tif(!(is = valid(v,k,n, at,env))){ return }\n\t\t\t\tif(!k){\n\t\t\t\t\tat.node = at.node || n || {};\n\t\t\t\t\tif(obj_has(v, Node._) && Node.soul(v)){ // ? for safety ?\n\t\t\t\t\t\tat.node._ = obj_copy(v._);\n\t\t\t\t\t}\n\t\t\t\t\tat.node = Node.soul.ify(at.node, Val.link.is(at.link));\n\t\t\t\t\tat.link = at.link || Val.link.ify(Node.soul(at.node));\n\t\t\t\t}\n\t\t\t\tif(tmp = env.map){\n\t\t\t\t\ttmp.call(env.as || {}, v,k,n, at);\n\t\t\t\t\tif(obj_has(n,k)){\n\t\t\t\t\t\tv = n[k];\n\t\t\t\t\t\tif(u === v){\n\t\t\t\t\t\t\tobj_del(n, k);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!(is = valid(v,k,n, at,env))){ return }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!k){ return at.node }\n\t\t\t\tif(true === is){\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\ttmp = node(env, {obj: v, path: at.path.concat(k)});\n\t\t\t\tif(!tmp.node){ return }\n\t\t\t\treturn tmp.link; //{'#': Node.soul(tmp.node)};\n\t\t\t}\n\t\t\tfunction soul(id){ var at = this;\n\t\t\t\tvar prev = Val.link.is(at.link), graph = at.env.graph;\n\t\t\t\tat.link = at.link || Val.link.ify(id);\n\t\t\t\tat.link[Val.link._] = id;\n\t\t\t\tif(at.node && at.node[Node._]){\n\t\t\t\t\tat.node[Node._][Val.link._] = id;\n\t\t\t\t}\n\t\t\t\tif(obj_has(graph, prev)){\n\t\t\t\t\tgraph[id] = graph[prev];\n\t\t\t\t\tobj_del(graph, prev);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfunction valid(v,k,n, at,env){ var tmp;\n\t\t\t\tif(Val.is(v)){ return true }\n\t\t\t\tif(obj_is(v)){ return 1 }\n\t\t\t\tif(tmp = env.invalid){\n\t\t\t\t\tv = tmp.call(env.as || {}, v,k,n);\n\t\t\t\t\treturn valid(v,k,n, at,env);\n\t\t\t\t}\n\t\t\t\tenv.err = \"Invalid value at '\" + at.path.concat(k).join('.') + \"'!\";\n\t\t\t\tif(Type.list.is(v)){ env.err += \" Use `.set(item)` instead of an Array.\" }\n\t\t\t}\n\t\t\tfunction seen(env, at){\n\t\t\t\tvar arr = env.seen, i = arr.length, has;\n\t\t\t\twhile(i--){ has = arr[i];\n\t\t\t\t\tif(at.obj === has.obj){ return has }\n\t\t\t\t}\n\t\t\t\tarr.push(at);\n\t\t\t}\n\t\t}());\n\t\tGraph.node = function(node){\n\t\t\tvar soul = Node.soul(node);\n\t\t\tif(!soul){ return }\n\t\t\treturn obj_put({}, soul, node);\n\t\t}\n\t\t;(function(){\n\t\t\tGraph.to = function(graph, root, opt){\n\t\t\t\tif(!graph){ return }\n\t\t\t\tvar obj = {};\n\t\t\t\topt = opt || {seen: {}};\n\t\t\t\tobj_map(graph[root], map, {obj:obj, graph: graph, opt: opt});\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\tfunction map(v,k){ var tmp, obj;\n\t\t\t\tif(Node._ === k){\n\t\t\t\t\tif(obj_empty(v, Val.link._)){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.obj[k] = obj_copy(v);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(!(tmp = Val.link.is(v))){\n\t\t\t\t\tthis.obj[k] = v;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(obj = this.opt.seen[tmp]){\n\t\t\t\t\tthis.obj[k] = obj;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.obj[k] = this.opt.seen[tmp] = Graph.to(this.graph, tmp, this.opt);\n\t\t\t}\n\t\t}());\n\t\tvar fn_is = Type.fn.is;\n\t\tvar obj = Type.obj, obj_is = obj.is, obj_del = obj.del, obj_has = obj.has, obj_empty = obj.empty, obj_put = obj.put, obj_map = obj.map, obj_copy = obj.copy;\n\t\tvar u;\n\t\tmodule.exports = Graph;\n\t})(USE, './graph');\n\n\t;USE(function(module){\n\t\t// request / response module, for asking and acking messages.\n\t\tUSE('./onto'); // depends upon onto!\n\t\tmodule.exports = function ask(cb, as){\n\t\t\tif(!this.on){ return }\n\t\t\tif(!('function' == typeof cb)){\n\t\t\t\tif(!cb || !as){ return }\n\t\t\t\tvar id = cb['#'] || cb, tmp = (this.tag||'')[id];\n\t\t\t\tif(!tmp){ return }\n\t\t\t\ttmp = this.on(id, as);\n\t\t\t\tclearTimeout(tmp.err);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar id = (as && as['#']) || Math.random().toString(36).slice(2);\n\t\t\tif(!cb){ return id }\n\t\t\tvar to = this.on(id, cb, as);\n\t\t\tto.err = to.err || setTimeout(function(){\n\t\t\t\tto.next({err: \"Error: No ACK yet.\", lack: true});\n\t\t\t\tto.off();\n\t\t\t}, (this.opt||{}).lack || 9000);\n\t\t\treturn id;\n\t\t}\n\t})(USE, './ask');\n\n\t;USE(function(module){\n\t\tvar Type = USE('./type');\n\t\tfunction Dup(opt){\n\t\t\tvar dup = {s:{}}, s = dup.s;\n\t\t\topt = opt || {max: 1000, age: /*1000 * 9};//*/ 1000 * 9 * 3};\n\t\t\tdup.check = function(id){\n\t\t\t\tif(!s[id]){ return false }\n\t\t\t\treturn dt(id);\n\t\t\t}\n\t\t\tvar dt = dup.track = function(id){\n\t\t\t\tvar it = s[id] || (s[id] = {});\n\t\t\t\tit.was = +new Date;\n\t\t\t\tif(!dup.to){ dup.to = setTimeout(dup.drop, opt.age + 9) }\n\t\t\t\treturn it;\n\t\t\t}\n\t\t\tdup.drop = function(age){\n\t\t\t\tvar now = +new Date;\n\t\t\t\tType.obj.map(s, function(it, id){\n\t\t\t\t\tif(it && (age || opt.age) > (now - it.was)){ return }\n\t\t\t\t\tdelete s[id];\n\t\t\t\t});\n\t\t\t\tdup.to = null;\n\t\t\t\tconsole.STAT && (age = +new Date - now) > 9 && console.STAT(now, age, 'dup drop');\n\t\t\t}\n\t\t\treturn dup;\n\t\t}\n\t\tmodule.exports = Dup;\n\t})(USE, './dup');\n\n\t;USE(function(module){\n\n\t\tfunction Gun(o){\n\t\t\tif(o instanceof Gun){ return (this._ = {$: this}).$ }\n\t\t\tif(!(this instanceof Gun)){ return new Gun(o) }\n\t\t\treturn Gun.create(this._ = {$: this, opt: o});\n\t\t}\n\n\t\tGun.is = function($){ return ($ instanceof Gun) || ($ && $._ && ($ === $._.$)) || false }\n\n\t\tGun.version = 0.2020;\n\n\t\tGun.chain = Gun.prototype;\n\t\tGun.chain.toJSON = function(){};\n\n\t\tvar Type = USE('./type');\n\t\tType.obj.to(Type, Gun);\n\t\tGun.HAM = USE('./HAM');\n\t\tGun.val = USE('./val');\n\t\tGun.node = USE('./node');\n\t\tGun.state = USE('./state');\n\t\tGun.graph = USE('./graph');\n\t\tGun.on = USE('./onto');\n\t\tGun.ask = USE('./ask');\n\t\tGun.dup = USE('./dup');\n\t\tGun.puff = USE('./puff');\n\n\t\t;(function(){\n\t\t\tGun.create = function(at){\n\t\t\t\tat.root = at.root || at;\n\t\t\t\tat.graph = at.graph || {};\n\t\t\t\tat.on = at.on || Gun.on;\n\t\t\t\tat.ask = at.ask || Gun.ask;\n\t\t\t\tat.dup = at.dup || Gun.dup();\n\t\t\t\tvar gun = at.$.opt(at.opt);\n\t\t\t\tif(!at.once){\n\t\t\t\t\tat.on('in', universe, at);\n\t\t\t\t\tat.on('out', universe, at);\n\t\t\t\t\tat.on('put', map, at);\n\t\t\t\t\tGun.on('create', at);\n\t\t\t\t\tat.on('create', at);\n\t\t\t\t}\n\t\t\t\tat.once = 1;\n\t\t\t\treturn gun;\n\t\t\t}\n\t\t\tfunction universe(msg){\n\t\t\t\tif(!msg){ return }\n\t\t\t\tif(msg.out === universe){ this.to.next(msg); return }\n\t\t\t\tvar eve = this, as = eve.as, at = as.at || as, gun = at.$, dup = at.dup, tmp, DBG = msg.DBG;\n\t\t\t\t(tmp = msg['#']) || (tmp = msg['#'] = text_rand(9));\n\t\t\t\tif(dup.check(tmp)){ return } dup.track(tmp);\n\t\t\t\ttmp = msg._; msg._ = ('function' == typeof tmp)? tmp : function(){};\n\t\t\t\t(msg.$ && (msg.$ === (msg.$._||'').$)) || (msg.$ = gun);\n\t\t\t\tif(!at.ask(msg['@'], msg)){ // is this machine listening for an ack?\n\t\t\t\t\tDBG && (DBG.u = +new Date);\n\t\t\t\t\tif(msg.get){ Gun.on._get(msg, gun) }\n\t\t\t\t\tif(msg.put){ put(msg); return }\n\t\t\t\t}\n\t\t\t\tDBG && (DBG.uc = +new Date);\n\t\t\t\teve.to.next(msg);\n\t\t\t\tDBG && (DBG.ua = +new Date);\n\t\t\t\tmsg.out = universe; at.on('out', msg);\n\t\t\t\tDBG && (DBG.ue = +new Date);\n\t\t\t}\n\t\t\tfunction put(msg){\n\t\t\t\tif(!msg){ return }\n\t\t\t\tvar ctx = msg._||'', root = ctx.root = ((ctx.$ = msg.$||'')._||'').root;\n\t\t\t\tvar put = msg.put, id = msg['#'], err, tmp;\n\t\t\t\tvar DBG = ctx.DBG = msg.DBG;\n\t\t\t\tif(put['#'] && put['.']){ root.on('put', msg); return } // TODO: BUG! This needs to call HAM instead.\n\t\t\t\t/*root.on(id, function(m){\n\t\t\t\t\tconsole.log('ack:', m);\n\t\t\t\t});*/\n\t\t\t\tctx.out = msg;\n\t\t\t\tctx.lot = {s: 0, more: 1};\n\t\t\t\tvar S = +new Date;\n\t\t\t\tDBG && (DBG.p = S);\n\t\t\t\tfor(var soul in put){ // Gun.obj.native() makes this safe.\n\t\t\t\t\tvar node = put[soul], states;\n\t\t\t\t\tif(!node){ err = ERR+cut(soul)+\"no node.\"; break }\n\t\t\t\t\tif(!(tmp = node._)){ err = ERR+cut(soul)+\"no meta.\"; break }\n\t\t\t\t\tif(soul !== tmp[_soul]){ err = ERR+cut(soul)+\"soul not same.\"; break }\n\t\t\t\t\tif(!(states = tmp[state_])){ err = ERR+cut(soul)+\"no state.\"; break }\n\t\t\t\t\tfor(var key in node){ // double loop uncool, but have to support old format.\n\t\t\t\t\t\tif(node_ === key){ continue }\n\t\t\t\t\t\tvar val = node[key], state = states[key];\n\t\t\t\t\t\tif(u === state){ err = ERR+cut(key)+\"on\"+cut(soul)+\"no state.\"; break }\n\t\t\t\t\t\tif(!val_is(val)){ err = ERR+cut(key)+\"on\"+cut(soul)+\"bad \"+(typeof val)+cut(val); break }\n\t\t\t\t\t\tham(val, key, soul, state, msg);\n\t\t\t\t\t}\n\t\t\t\t\tif(err){ break }\n\t\t\t\t}\n\t\t\t\tDBG && (DBG.pe = +new Date);\n\t\t\t\tif(console.STAT){ console.STAT(S, +new Date - S, 'mix');console.STAT(S, ctx.lot.s, 'mix #') }\n\t\t\t\tif(ctx.err = err){ root.on('in', {'@': id, err: Gun.log(err)}); return }\n\t\t\t\tif(!(--ctx.lot.more)){ fire(ctx) } // if synchronous.\n\t\t\t\tif(!ctx.stun && !msg['@']){ root.on('in', {'@': id, ok: -1}) } // in case no diff sent to storage, etc., still ack.\n\t\t\t} Gun.on.put = put;\n\t\t\tfunction ham(val, key, soul, state, msg){\n\t\t\t\tvar ctx = msg._||'', root = ctx.root, graph = root.graph, lot;\n\t\t\t\tvar vertex = graph[soul] || empty, was = state_is(vertex, key, 1), known = vertex[key];\n\t\t\t\tvar machine = State(), is = HAM(machine, state, was, val, known), u;\n\t\t\t\tif(!is.incoming){\n\t\t\t\t\tif(is.defer){\n\t\t\t\t\t\tvar to = state - machine;\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\tham(val, key, soul, state, msg);\n\t\t\t\t\t\t}, to > MD? MD : to); // setTimeout Max Defer 32bit :(\n\t\t\t\t\t\tif(!ctx.to){ root.on('in', {'@': msg['#'], err: to}) } ctx.to = 1; // TODO: This causes too many problems unless sending peers auto-retry.\n\t\t\t\t\t\treturn to;\n\t\t\t\t\t}\n\t\t\t\t\t//return; // it should be this\n\t\t\t\t\tif(!ctx.miss){ return } // but some chains have a cache miss that need to re-fire. // TODO: Improve in future.\n\t\t\t\t}\n\t\t\t\t(lot = ctx.lot||'').s++; lot.more++;\n\t\t\t\t(ctx.stun || (ctx.stun = {}))[soul+key] = 1;\n\t\t\t\tvar DBG = ctx.DBG; DBG && (DBG.ph = DBG.ph || +new Date);\n\t\t\t\troot.on('put', {'#': msg['#'], '@': msg['@'], put: {'#': soul, '.': key, ':': val, '>': state}, _: ctx});\n\t\t\t}\n\t\t\tfunction map(msg){\n\t\t\t\tvar DBG; if(DBG = (msg._||'').DBG){ DBG.pa = +new Date; DBG.pm = DBG.pm || +new Date}\n      \tvar eve = this, root = eve.as, graph = root.graph, ctx = msg._, put = msg.put, soul = put['#'], key = put['.'], val = put[':'], state = put['>'], id = msg['#'], tmp;\n\t\t\t\tgraph[soul] = state_ify(graph[soul], key, state, val, soul); // TODO: Only put in graph if subscribed? Relays vs Browsers?\n\t\t\t\tchain(ctx, soul, key, (u !== (tmp = put['=']))? tmp : val, state); // TODO: This should NOT be how the API works, this should be done at an extension layer, but hacky solution to migrate with old code for now.\n\t\t\t\tif((tmp = ctx.out) && (tmp = tmp.put)){\n\t\t\t\t\ttmp[soul] = state_ify(tmp[soul], key, state, val, soul); // TODO: Hacky, fix & come back later, for actual pushing messages.\n\t\t\t\t}\n\t\t\t\tif(!(--ctx.lot.more)){ fire(ctx) } // TODO: 'forget' feature in SEA tied to this, bad approach, but hacked in for now. Any changes here must update there.\n\t\t\t\teve.to.next(msg);\n\t\t\t}\n\t\t\tfunction chain(ctx, soul, key,val, state){\n\t\t\t\tvar root = ctx.root, put, tmp;\n\t\t\t\t(root.opt||'').super && root.$.get(soul); // I think we need super for now, but since we are rewriting, should consider getting rid of it.\n\t\t\t\tif(!root || !(tmp = root.next) || !(tmp = tmp[soul]) || !tmp.$){ return }\n\t\t\t\t(put = ctx.put || (ctx.put = {}))[soul] = state_ify(put[soul], key, state, val, soul);\n\t\t\t\ttmp.put = state_ify(tmp.put, key, state, val, soul);\n\t\t\t}\n\t\t\tfunction fire(ctx){\n\t\t\t\tif(ctx.err){ return }\n\t\t\t\tvar stop = {};\n\t\t\t\tvar root = ((ctx.$||'')._||'').root, next = (root||'').next||'', put = ctx.put, tmp;\n\t\t\t\tvar S = +new Date;\n\t\t\t\t//Gun.graph.is(put, function(node, soul){\n\t\t\t\tfor(var soul in put){ var node = put[soul]; // Gun.obj.native() makes this safe.\n\t\t\t\t\tif(!(tmp = next[soul]) || !tmp.$){ continue }\n\t\t\t\t\troot.stop = stop; // temporary fix till a better solution?\n\t\t\t\t\ttmp.on('in', {$: tmp.$, get: soul, put: node});\n\t\t\t\t\troot.stop = null; // temporary fix till a better solution?\n\t\t\t\t}\n\t\t\t\tconsole.STAT && console.STAT(S, +new Date - S, 'fire');\n\t\t\t\tctx.DBG && (ctx.DBG.f = +new Date);\n\t\t\t\tif(!(tmp = ctx.out)){ return }\n\t\t\t\ttmp.out = universe;\n\t\t\t\troot.on('out', tmp);\n\t\t\t}\n\t\t\tvar ERR = \"Error: Invalid graph!\";\n\t\t\tvar cut = function(s){ return \" '\"+(''+s).slice(0,9)+\"...' \" }\n\t\t\tvar HAM = Gun.HAM, MD = 2147483647, State = Gun.state;\n\t\t}());\n\n\t\t;(function(){\n\t\t\tGun.on._put = function(msg, gun){\n\t\t\t\tvar at = gun._, ctx = {$: gun, graph: at.graph, put: {}, map: {}, souls: {}, machine: Gun.state(), ack: msg['@'], cat: at, stop: {}};\n\t\t\t\tif(!Gun.obj.map(msg.put, perf, ctx)){ return } // HNPERF: performance test, not core code, do not port.\n\t\t\t\tif(!Gun.graph.is(msg.put, null, verify, ctx)){ ctx.err = \"Error: Invalid graph!\" }\n\t\t\t\tif(ctx.err){ return at.on('in', {'@': msg['#'], err: Gun.log(ctx.err) }) }\n\t\t\t\tobj_map(ctx.put, merge, ctx);\n\t\t\t\tif(!ctx.async){ obj_map(ctx.map, map, ctx) }\n\t\t\t\tif(u !== ctx.defer){\n\t\t\t\t\tvar to = ctx.defer - ctx.machine;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tGun.on._put(msg, gun);\n\t\t\t\t\t}, to > MD? MD : to ); // setTimeout Max Defer 32bit :(\n\t\t\t\t}\n\t\t\t\tif(!ctx.diff){ return }\n\t\t\t\tat.on('put', obj_to(msg, {put: ctx.diff}));\n\t\t\t};\n\t\t\tfunction verify(val, key, node, soul){ var ctx = this;\n\t\t\t\tvar state = Gun.state.is(node, key), tmp;\n\t\t\t\tif(!state){ return ctx.err = \"Error: No state on '\"+key+\"' in node '\"+soul+\"'!\" }\n\t\t\t\tvar vertex = ctx.graph[soul] || empty, was = Gun.state.is(vertex, key, true), known = vertex[key];\n\t\t\t\tvar HAM = Gun.HAM(ctx.machine, state, was, val, known);\n\t\t\t\tif(!HAM.incoming){\n\t\t\t\t\tif(HAM.defer){ // pick the lowest\n\t\t\t\t\t\tctx.defer = (state < (ctx.defer || Infinity))? state : ctx.defer;\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tctx.put[soul] = Gun.state.to(node, key, ctx.put[soul]);\n\t\t\t\t(ctx.diff || (ctx.diff = {}))[soul] = Gun.state.to(node, key, ctx.diff[soul]);\n\t\t\t\tctx.souls[soul] = true;\n\t\t\t}\n\t\t\tfunction merge(node, soul){\n\t\t\t\tvar ctx = this, cat = ctx.$._, at = (cat.next || empty)[soul];\n\t\t\t\tif(!at){\n\t\t\t\t\tif(!(cat.opt||empty).super){\n\t\t\t\t\t\tctx.souls[soul] = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tat = (ctx.$.get(soul)._);\n\t\t\t\t}\n\t\t\t\tvar msg = ctx.map[soul] = {\n\t\t\t\t\tput: node,\n\t\t\t\t\tget: soul,\n\t\t\t\t\t$: at.$\n\t\t\t\t}, as = {ctx: ctx, msg: msg};\n\t\t\t\tctx.async = !!cat.tag.node;\n\t\t\t\tif(ctx.ack){ msg['@'] = ctx.ack }\n\t\t\t\tobj_map(node, each, as);\n\t\t\t\tif(!ctx.async){ return }\n\t\t\t\tif(!ctx.and){\n\t\t\t\t\t// If it is async, we only need to setup one listener per context (ctx)\n\t\t\t\t\tcat.on('node', function(m){\n\t\t\t\t\t\tthis.to.next(m); // make sure to call other context's listeners.\n\t\t\t\t\t\tif(m !== ctx.map[m.get]){ return } // filter out events not from this context!\n\t\t\t\t\t\tctx.souls[m.get] = false; // set our many-async flag\n\t\t\t\t\t\tobj_map(m.put, patch, m); // merge into view\n\t\t\t\t\t\tif(obj_map(ctx.souls, function(v){ if(v){ return v } })){ return } // if flag still outstanding, keep waiting.\n\t\t\t\t\t\tif(ctx.c){ return } ctx.c = 1; // failsafe for only being called once per context.\n\t\t\t\t\t\tthis.off();\n\t\t\t\t\t\tobj_map(ctx.map, map, ctx); // all done, trigger chains.\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tctx.and = true;\n\t\t\t\tcat.on('node', msg); // each node on the current context's graph needs to be emitted though.\n\t\t\t}\n\t\t\tfunction each(val, key){\n\t\t\t\tvar ctx = this.ctx, graph = ctx.graph, msg = this.msg, soul = msg.get, node = msg.put, at = (msg.$._), tmp;\n\t\t\t\tgraph[soul] = Gun.state.to(node, key, graph[soul]);\n\t\t\t\tif(ctx.async){ return }\n\t\t\t\tat.put = Gun.state.to(node, key, at.put);\n\t\t\t}\n\t\t\tfunction patch(val, key){\n\t\t\t\tvar msg = this, node = msg.put, at = (msg.$._);\n\t\t\t\tat.put = Gun.state.to(node, key, at.put);\n\t\t\t}\n\t\t\tfunction map(msg, soul){\n\t\t\t\tif(!msg.$){ return }\n\t\t\t\tthis.cat.stop = this.stop; // temporary fix till a better solution?\n\t\t\t\t(msg.$._).on('in', msg);\n\t\t\t\tthis.cat.stop = null; // temporary fix till a better solution?\n\t\t\t}\n\t\t\tfunction perf(node, soul){ if(node !== this.graph[soul]){ return true } } // HNPERF: do not port!\n\n\t\t\tGun.on._get = function(msg, gun){\n\t\t\t\tvar root = gun._, get = msg.get, soul = get[_soul], node = root.graph[soul], has = get[_has], tmp;\n\t\t\t\tvar next = root.next || (root.next = {}), at = next[soul];\n\t\t\t\t// queue concurrent GETs?\n\t\t\t\tvar ctx = msg._||'', DBG = ctx.DBG = msg.DBG;\n\t\t\t\tDBG && (DBG.g = +new Date);\n\t\t\t\tif(!node){ return root.on('get', msg) }\n\t\t\t\tif(has){\n\t\t\t\t\tif('string' != typeof has || !obj_has(node, has)){ return root.on('get', msg) }\n\t\t\t\t\tnode = Gun.state.to(node, has);\n\t\t\t\t\t// If we have a key in-memory, do we really need to fetch?\n\t\t\t\t\t// Maybe... in case the in-memory key we have is a local write\n\t\t\t\t\t// we still need to trigger a pull/merge from peers.\n\t\t\t\t} else {\n\t\t\t\t\tnode = Gun.window? Gun.obj.copy(node) : node; // HNPERF: If !browser bump Performance? Is this too dangerous to reference root graph? Copy / shallow copy too expensive for big nodes. Gun.obj.to(node); // 1 layer deep copy // Gun.obj.copy(node); // too slow on big nodes\n\t\t\t\t}\n\t\t\t\tnode = Gun.graph.node(node);\n\t\t\t\ttmp = (at||empty).ack;\n\t\t\t\tvar faith = function(){}; faith.ram = faith.faith = true; // HNPERF: We're testing performance improvement by skipping going through security again, but this should be audited.\n\t\t\t\tfaith.$ = msg.$;\n\t\t\t\tDBG && (DBG.ga = +new Date);\n\t\t\t\troot.on('in', {\n\t\t\t\t\t'@': msg['#'],\n\t\t\t\t\tput: node,\n\t\t\t\t\tram: 1,\n\t\t\t\t\t$: gun,\n\t\t\t\t\t_: faith\n\t\t\t\t});\n\t\t\t\tDBG && (DBG.gm = +new Date);\n\t\t\t\t//if(0 < tmp){ return }\n\t\t\t\troot.on('get', msg);\n\t\t\t\tDBG && (DBG.gd = +new Date);\n\t\t\t}\n\t\t}());\n\n\t\t;(function(){\n\t\t\tGun.chain.opt = function(opt){\n\t\t\t\topt = opt || {};\n\t\t\t\tvar gun = this, at = gun._, tmp = opt.peers || opt;\n\t\t\t\tif(!obj_is(opt)){ opt = {} }\n\t\t\t\tif(!obj_is(at.opt)){ at.opt = opt }\n\t\t\t\tif(text_is(tmp)){ tmp = [tmp] }\n\t\t\t\tif(list_is(tmp)){\n\t\t\t\t\ttmp = obj_map(tmp, function(url, i, map){\n\t\t\t\t\t\ti = {}; i.id = i.url = url; map(url, i);\n\t\t\t\t\t});\n\t\t\t\t\tif(!obj_is(at.opt.peers)){ at.opt.peers = {}}\n\t\t\t\t\tat.opt.peers = obj_to(tmp, at.opt.peers);\n\t\t\t\t}\n\t\t\t\tat.opt.peers = at.opt.peers || {};\n\t\t\t\tobj_map(opt, function each(v,k){\n\t\t\t\t\tif(!obj_has(this, k) || text.is(v) || obj.empty(v)){ this[k] = v ; return }\n\t\t\t\t\tif(v && v.constructor !== Object && !list_is(v)){ return }\n\t\t\t\t\tobj_map(v, each, this[k]);\n\t\t\t\t}, at.opt);\n\t\t\t\tGun.on('opt', at);\n\t\t\t\t//at.opt.uuid = at.opt.uuid || function(){ return state_lex() + text_rand(12) }\n\t\t\t\tGun.obj.native();\n\t\t\t\treturn gun;\n\t\t\t}\n\t\t}());\n\t\tGun.obj.native = function(){ var p = Object.prototype; for(var i in p){ console.log(\"Native Object.prototype polluted, reverting\", i); delete p[i]; } };\n\n\t\tvar list_is = Gun.list.is;\n\t\tvar text = Gun.text, text_is = text.is, text_rand = text.random;\n\t\tvar obj = Gun.obj, obj_empty = obj.empty, obj_is = obj.is, obj_has = obj.has, obj_to = obj.to, obj_map = obj.map, obj_copy = obj.copy;\n\t\tvar state_lex = Gun.state.lex, state_ify = Gun.state.ify, state_is = Gun.state.is, _soul = Gun.val.link._, _has = '.', node_ = Gun.node._, val_is = Gun.val.is, rel_is = Gun.val.link.is, state_ = Gun.state._;\n\t\tvar empty = {}, u;\n\t\tvar C;\n\n\t\tGun.log = function(){ return (!Gun.log.off && C.log.apply(C, arguments)), [].slice.call(arguments).join(' ') };\n\t\tGun.log.once = function(w,s,o){ return (o = Gun.log.once)[w] = o[w] || 0, o[w]++ || Gun.log(s) };\n\n\t\tif(typeof window !== \"undefined\"){ (window.GUN = window.Gun = Gun).window = window }\n\t\ttry{ if(typeof MODULE !== \"undefined\"){ MODULE.exports = Gun } }catch(e){}\n\t\tmodule.exports = Gun;\n\n\t\t(Gun.window||'').console = (Gun.window||'').console || {log: function(){}};\n\t\t(C = console).only = function(i, s){ return (C.only.i && i === C.only.i && C.only.i++) && (C.log.apply(C, arguments) || s) };\n\n\t\t;\"Please do not remove welcome log unless you are paying for a monthly sponsorship, thanks!\";\n\t\tGun.log.once(\"welcome\", \"Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!\");\n\t})(USE, './root');\n\n\t;USE(function(module){\n\t\tvar Gun = USE('./root');\n\t\tGun.chain.back = function(n, opt){ var tmp;\n\t\t\tn = n || 1;\n\t\t\tif(-1 === n || Infinity === n){\n\t\t\t\treturn this._.root.$;\n\t\t\t} else\n\t\t\tif(1 === n){\n\t\t\t\treturn (this._.back || this._).$;\n\t\t\t}\n\t\t\tvar gun = this, at = gun._;\n\t\t\tif(typeof n === 'string'){\n\t\t\t\tn = n.split('.');\n\t\t\t}\n\t\t\tif(n instanceof Array){\n\t\t\t\tvar i = 0, l = n.length, tmp = at;\n\t\t\t\tfor(i; i < l; i++){\n\t\t\t\t\ttmp = (tmp||empty)[n[i]];\n\t\t\t\t}\n\t\t\t\tif(u !== tmp){\n\t\t\t\t\treturn opt? gun : tmp;\n\t\t\t\t} else\n\t\t\t\tif((tmp = at.back)){\n\t\t\t\t\treturn tmp.$.back(n, opt);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif('function' == typeof n){\n\t\t\t\tvar yes, tmp = {back: at};\n\t\t\t\twhile((tmp = tmp.back)\n\t\t\t\t&& u === (yes = n(tmp, opt))){}\n\t\t\t\treturn yes;\n\t\t\t}\n\t\t\tif(Gun.num.is(n)){\n\t\t\t\treturn (at.back || at).$.back(n - 1);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tvar empty = {}, u;\n\t})(USE, './back');\n\n\t;USE(function(module){\n\t\t// WARNING: GUN is very simple, but the JavaScript chaining API around GUN\n\t\t// is complicated and was extremely hard to build. If you port GUN to another\n\t\t// language, consider implementing an easier API to build.\n\t\tvar Gun = USE('./root');\n\t\tGun.chain.chain = function(sub){\n\t\t\tvar gun = this, at = gun._, chain = new (sub || gun).constructor(gun), cat = chain._, root;\n\t\t\tcat.root = root = at.root;\n\t\t\tcat.id = ++root.once;\n\t\t\tcat.back = gun._;\n\t\t\tcat.on = Gun.on;\n\t\t\tcat.on('in', input, cat); // For 'in' if I add my own listeners to each then I MUST do it before in gets called. If I listen globally for all incoming data instead though, regardless of individual listeners, I can transform the data there and then as well.\n\t\t\tcat.on('out', output, cat); // However for output, there isn't really the global option. I must listen by adding my own listener individually BEFORE this one is ever called.\n\t\t\treturn chain;\n\t\t}\n\n\t\tfunction output(msg){\n\t\t\tvar put, get, at = this.as, back = at.back, root = at.root, tmp;\n\t\t\tif(!msg.$){ msg.$ = at.$ }\n\t\t\tthis.to.next(msg);\n\t\t\tif(get = msg.get){\n\t\t\t\t/*if(u !== at.put){\n\t\t\t\t\tat.on('in', at);\n\t\t\t\t\treturn;\n\t\t\t\t}*/\n\t\t\t\tif(at.lex){ msg.get = obj_to(at.lex, msg.get) }\n\t\t\t\tif(get['#'] || at.soul){\n\t\t\t\t\tget['#'] = get['#'] || at.soul;\n\t\t\t\t\tmsg['#'] || (msg['#'] = text_rand(9));\n\t\t\t\t\tback = (root.$.get(get['#'])._);\n\t\t\t\t\tif(!(get = get['.'])){\n\t\t\t\t\t\ttmp = back.ack;\n\t\t\t\t\t\tif(!tmp){ back.ack = -1 }\n\t\t\t\t\t\tif(obj_has(back, 'put')){\n\t\t\t\t\t\t\tback.on('in', back);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(tmp && u !== back.put){ return } //if(tmp){ return }\n\t\t\t\t\t\tmsg.$ = back.$;\n\t\t\t\t\t} else\n\t\t\t\t\tif(obj_has(back.put, get)){ // TODO: support #LEX !\n\t\t\t\t\t\tput = (back.$.get(get)._);\n\t\t\t\t\t\tif(!(tmp = put.ack)){ put.ack = -1 }\n\t\t\t\t\t\tback.on('in', {\n\t\t\t\t\t\t\t$: back.$,\n\t\t\t\t\t\t\tput: Gun.state.to(back.put, get),\n\t\t\t\t\t\t\tget: back.get\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(tmp){ return }\n\t\t\t\t\t} else\n\t\t\t\t\tif('string' != typeof get){\n\t\t\t\t\t\tvar put = {}, meta = (back.put||{})._;\n\t\t\t\t\t\tGun.obj.map(back.put, function(v,k){\n\t\t\t\t\t\t\tif(!Gun.text.match(k, get)){ return }\n\t\t\t\t\t\t\tput[k] = v;\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif(!Gun.obj.empty(put)){\n\t\t\t\t\t\t\tput._ = meta;\n\t\t\t\t\t\t\tback.on('in', {$: back.$, put: put, get: back.get})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(tmp = at.lex){\n\t\t\t\t\t\t\ttmp = (tmp._) || (tmp._ = function(){});\n\t\t\t\t\t\t\tif(back.ack < tmp.ask){ tmp.ask = back.ack }\n\t\t\t\t\t\t\tif(tmp.ask){ return }\n\t\t\t\t\t\t\ttmp.ask = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\troot.ask(ack, msg);\n\t\t\t\t\treturn root.on('in', msg);\n\t\t\t\t}\n\t\t\t\tif(root.now){ root.now[at.id] = root.now[at.id] || true; at.pass = {} }\n\t\t\t\tif(get['.']){\n\t\t\t\t\tif(at.get){\n\t\t\t\t\t\tmsg = {get: {'.': at.get}, $: at.$};\n\t\t\t\t\t\t//if(back.ask || (back.ask = {})[at.get]){ return }\n\t\t\t\t\t\t(back.ask || (back.ask = {}));\n\t\t\t\t\t\tback.ask[at.get] = msg.$._; // TODO: PERFORMANCE? More elegant way?\n\t\t\t\t\t\treturn back.on('out', msg);\n\t\t\t\t\t}\n\t\t\t\t\tmsg = {get: {}, $: at.$};\n\t\t\t\t\treturn back.on('out', msg);\n\t\t\t\t}\n\t\t\t\tat.ack = at.ack || -1;\n\t\t\t\tif(at.get){\n\t\t\t\t\tmsg.$ = at.$;\n\t\t\t\t\tget['.'] = at.get;\n\t\t\t\t\t(back.ask || (back.ask = {}))[at.get] = msg.$._; // TODO: PERFORMANCE? More elegant way?\n\t\t\t\t\treturn back.on('out', msg);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn back.on('out', msg);\n\t\t}\n\n\t\tfunction input(msg){\n\t\t\tvar eve = this, cat = eve.as, root = cat.root, gun = msg.$, at = (gun||empty)._ || empty, change = msg.put, rel, tmp;\n\t\t\tif(cat.get && msg.get !== cat.get){\n\t\t\t\tmsg = obj_to(msg, {get: cat.get});\n\t\t\t}\n\t\t\tif(cat.has && at !== cat){\n\t\t\t\tmsg = obj_to(msg, {$: cat.$});\n\t\t\t\tif(at.ack){\n\t\t\t\t\tcat.ack = at.ack;\n\t\t\t\t\t//cat.ack = cat.ack || at.ack;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(u === change){\n\t\t\t\ttmp = at.put;\n\t\t\t\teve.to.next(msg);\n\t\t\t\tif(cat.soul){ return } // TODO: BUG, I believee the fresh input refactor caught an edge case that a `gun.get('soul').get('key')` that points to a soul that doesn't exist will not trigger val/get etc.\n\t\t\t\tif(u === tmp && u !== at.put){ return }\n\t\t\t\techo(cat, msg, eve);\n\t\t\t\tif(cat.has){\n\t\t\t\t\tnot(cat, msg);\n\t\t\t\t}\n\t\t\t\tobj_del(at.echo, cat.id);\n\t\t\t\tobj_del(cat.map, at.id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(cat.soul){\n\t\t\t\teve.to.next(msg);\n\t\t\t\techo(cat, msg, eve);\n\t\t\t\tif(cat.next){ obj_map(change, map, {msg: msg, cat: cat}) }\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!(rel = Gun.val.link.is(change))){\n\t\t\t\tif(Gun.val.is(change)){\n\t\t\t\t\tif(cat.has || cat.soul){\n\t\t\t\t\t\tnot(cat, msg);\n\t\t\t\t\t} else\n\t\t\t\t\tif(at.has || at.soul){\n\t\t\t\t\t\t(at.echo || (at.echo = {}))[cat.id] = at.echo[at.id] || cat;\n\t\t\t\t\t\t(cat.map || (cat.map = {}))[at.id] = cat.map[at.id] || {at: at};\n\t\t\t\t\t\t//if(u === at.put){ return } // Not necessary but improves performance. If we have it but at does not, that means we got things out of order and at will get it. Once at gets it, it will tell us again.\n\t\t\t\t\t}\n\t\t\t\t\teve.to.next(msg);\n\t\t\t\t\techo(cat, msg, eve);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(cat.has && at !== cat && obj_has(at, 'put')){\n\t\t\t\t\tcat.put = at.put;\n\t\t\t\t};\n\t\t\t\tif((rel = Gun.node.soul(change)) && at.has){\n\t\t\t\t\tat.put = (cat.root.$.get(rel)._).put;\n\t\t\t\t}\n\t\t\t\ttmp = (root.stop || {})[at.id];\n\t\t\t\t//if(tmp && tmp[cat.id]){ } else {\n\t\t\t\t\teve.to.next(msg);\n\t\t\t\t//}\n\t\t\t\trelate(cat, msg, at, rel);\n\t\t\t\techo(cat, msg, eve);\n\t\t\t\tif(cat.next){ obj_map(change, map, {msg: msg, cat: cat}) }\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar was = root.stop;\n\t\t\ttmp = root.stop || {};\n\t\t\ttmp = tmp[at.id] || (tmp[at.id] = {});\n\t\t\t//if(tmp[cat.id]){ return }\n\t\t\ttmp.is = tmp.is || at.put;\n\t\t\ttmp[cat.id] = at.put || true;\n\t\t\t//if(root.stop){\n\t\t\t\teve.to.next(msg)\n\t\t\t//}\n\t\t\trelate(cat, msg, at, rel);\n\t\t\techo(cat, msg, eve);\n\t\t}\n\n\t\tfunction relate(at, msg, from, rel){\n\t\t\tif(!rel || node_ === at.get){ return }\n\t\t\tvar tmp = (at.root.$.get(rel)._);\n\t\t\tif(at.has){\n\t\t\t\tfrom = tmp;\n\t\t\t} else\n\t\t\tif(from.has){\n\t\t\t\trelate(from, msg, from, rel);\n\t\t\t}\n\t\t\tif(from === at){ return }\n\t\t\tif(!from.$){ from = {} }\n\t\t\t(from.echo || (from.echo = {}))[at.id] = from.echo[at.id] || at;\n\t\t\tif(at.has && !(at.map||empty)[from.id]){ // if we haven't seen this before.\n\t\t\t\tnot(at, msg);\n\t\t\t}\n\t\t\ttmp = from.id? ((at.map || (at.map = {}))[from.id] = at.map[from.id] || {at: from}) : {};\n\t\t\tif(rel === tmp.link){\n\t\t\t\tif(!(tmp.pass || at.pass)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(at.pass){\n\t\t\t\tGun.obj.map(at.map, function(tmp){ tmp.pass = true })\n\t\t\t\tobj_del(at, 'pass');\n\t\t\t}\n\t\t\tif(tmp.pass){ obj_del(tmp, 'pass') }\n\t\t\tif(at.has){ at.link = rel }\n\t\t\task(at, tmp.link = rel);\n\t\t}\n\t\tfunction echo(at, msg, ev){\n\t\t\tif(!at.echo){ return } // || node_ === at.get ?\n\t\t\t//if(at.has){ msg = obj_to(msg, {event: ev}) }\n\t\t\tobj_map(at.echo, reverb, msg);\n\t\t}\n\t\tfunction reverb(to){\n\t\t\tif(!to || !to.on){ return }\n\t\t\tto.on('in', this);\n\t\t}\n\t\tfunction map(data, key){ // Map over only the changes on every update.\n\t\t\tvar cat = this.cat, next = cat.next || empty, via = this.msg, chain, at, tmp;\n\t\t\tif(node_ === key && !next[key]){ return }\n\t\t\tif(!(at = next[key])){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//if(data && data[_soul] && (tmp = Gun.val.link.is(data)) && (tmp = (cat.root.$.get(tmp)._)) && obj_has(tmp, 'put')){\n\t\t\t//\tdata = tmp.put;\n\t\t\t//}\n\t\t\tif(at.has){\n\t\t\t\t//if(!(data && data[_soul] && Gun.val.link.is(data) === Gun.node.soul(at.put))){\n\t\t\t\tif(u === at.put || !Gun.val.link.is(data)){\n\t\t\t\t\tat.put = data;\n\t\t\t\t}\n\t\t\t\tchain = at.$;\n\t\t\t} else\n\t\t\tif(tmp = via.$){\n\t\t\t\ttmp = (chain = via.$.get(key))._;\n\t\t\t\tif(u === tmp.put || !Gun.val.link.is(data)){\n\t\t\t\t\ttmp.put = data;\n\t\t\t\t}\n\t\t\t}\n\t\t\tat.on('in', {\n\t\t\t\tput: data,\n\t\t\t\tget: key,\n\t\t\t\t$: chain,\n\t\t\t\tvia: via\n\t\t\t});\n\t\t}\n\t\tfunction not(at, msg){\n\t\t\tif(!(at.has || at.soul)){ return }\n\t\t\tvar tmp = at.map, root = at.root;\n\t\t\tat.map = null;\n\t\t\tif(at.has){\n\t\t\t\tif(at.dub && at.root.stop){ at.dub = null }\n\t\t\t\tat.link = null;\n\t\t\t}\n\t\t\t//if(!root.now || !root.now[at.id]){\n\t\t\tif(!at.pass){\n\t\t\t\tif((!msg['@']) && null === tmp){ return }\n\t\t\t\t//obj_del(at, 'pass');\n\t\t\t}\n\t\t\tif(u === tmp && Gun.val.link.is(at.put)){ return } // This prevents the very first call of a thing from triggering a \"clean up\" call. // TODO: link.is(at.put) || !val.is(at.put) ?\n\t\t\tobj_map(tmp, function(proxy){\n\t\t\t\tif(!(proxy = proxy.at)){ return }\n\t\t\t\tobj_del(proxy.echo, at.id);\n\t\t\t});\n\t\t\ttmp = at.put;\n\t\t\tobj_map(at.next, function(neat, key){\n\t\t\t\tif(u === tmp && u !== at.put){ return true }\n\t\t\t\tneat.put = u;\n\t\t\t\tif(neat.ack){\n\t\t\t\t\tneat.ack = -1; // Shouldn't this be reset to 0? If we do that, SEA test `set user ref should be found` fails, odd.\n\t\t\t\t}\n\t\t\t\tneat.on('in', {\n\t\t\t\t\tget: key,\n\t\t\t\t\t$: neat.$,\n\t\t\t\t\tput: u\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tfunction ask(at, soul){\n\t\t\tvar tmp = (at.root.$.get(soul)._), lex = at.lex;\n\t\t\tif(at.ack || lex){\n\t\t\t\t(lex = lex||{})['#'] = soul;\n\t\t\t\ttmp.on('out', {get: lex});\n\t\t\t\tif(!at.ask){ return } // TODO: PERFORMANCE? More elegant way?\n\t\t\t}\n\t\t\ttmp = at.ask; Gun.obj.del(at, 'ask');\n\t\t\tobj_map(tmp || at.next, function(neat, key){\n\t\t\t\tvar lex = neat.lex || {}; lex['#'] = soul; lex['.'] = lex['.'] || key;\n\t\t\t\tneat.on('out', {get: lex});\n\t\t\t});\n\t\t\tGun.obj.del(at, 'ask'); // TODO: PERFORMANCE? More elegant way?\n\t\t}\n\t\tfunction ack(msg, ev){\n\t\t\tvar as = this.as, get = as.get||'', at = as.$._, tmp = (msg.put||'')[get['#']];\n\t\t\tif(at.ack){ at.ack = (at.ack + 1) || 1; }\n\t\t\tif(!msg.put || ('string' == typeof get['.'] && !obj_has(tmp, at.get))){\n\t\t\t\tif(at.put !== u){ return }\n\t\t\t\tat.on('in', {\n\t\t\t\t\tget: at.get,\n\t\t\t\t\tput: at.put = u,\n\t\t\t\t\t$: at.$,\n\t\t\t\t\t'@': msg['@']\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(node_ == get['.']){ // is this a security concern?\n\t\t\t\tat.on('in', {get: at.get, put: Gun.val.link.ify(get['#']), $: at.$, '@': msg['@']});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(at.$ === (msg._||'').$){ // replying to self, for perf, skip ham/security tho needs audit.\n\t\t\t\t(msg._).miss = (at.put === u);\n\t\t\t}\n\t\t\tGun.on.put(msg);\n\t\t}\n\t\tvar empty = {}, u;\n\t\tvar obj = Gun.obj, obj_has = obj.has, obj_put = obj.put, obj_del = obj.del, obj_to = obj.to, obj_map = obj.map;\n\t\tvar text_rand = Gun.text.random;\n\t\tvar _soul = Gun.val.link._, node_ = Gun.node._;\n\t})(USE, './chain');\n\n\t;USE(function(module){\n\t\tvar Gun = USE('./root');\n\t\tGun.chain.get = function(key, cb, as){\n\t\t\tvar gun, tmp;\n\t\t\tif(typeof key === 'string'){\n\t\t\t\tvar back = this, cat = back._;\n\t\t\t\tvar next = cat.next || empty;\n\t\t\t\tif(!(gun = next[key])){\n\t\t\t\t\tgun = cache(key, back);\n\t\t\t\t}\n\t\t\t\tgun = gun.$;\n\t\t\t} else\n\t\t\tif('function' == typeof key){\n\t\t\t\tif(true === cb){ return soul(this, key, cb, as), this }\n\t\t\t\tgun = this;\n\t\t\t\tvar at = gun._, root = at.root, tmp = root.now, ev;\n\t\t\t\tas = cb || {};\n\t\t\t\tas.at = at;\n\t\t\t\tas.use = key;\n\t\t\t\tas.out = as.out || {};\n\t\t\t\tas.out.get = as.out.get || {};\n\t\t\t\t(ev = at.on('in', use, as)).rid = rid;\n\t\t\t\t(root.now = {$:1})[as.now = at.id] = ev;\n\t\t\t\tvar mum = root.mum; root.mum = {};\n\t\t\t\tat.on('out', as.out);\n\t\t\t\troot.mum = mum;\n\t\t\t\troot.now = tmp;\n\t\t\t\treturn gun;\n\t\t\t} else\n\t\t\tif(num_is(key)){\n\t\t\t\treturn this.get(''+key, cb, as);\n\t\t\t} else\n\t\t\tif(tmp = rel.is(key)){\n\t\t\t\treturn this.get(tmp, cb, as);\n\t\t\t} else\n\t\t\tif(obj.is(key)){\n\t\t\t\tgun = this;\n\t\t\t\tif(tmp = ((tmp = key['#'])||empty)['='] || tmp){ gun = gun.get(tmp) }\n\t\t\t\tgun._.lex = key;\n\t\t\t\treturn gun;\n\t\t\t} else {\n\t\t\t\t(as = this.chain())._.err = {err: Gun.log('Invalid get request!', key)}; // CLEAN UP\n\t\t\t\tif(cb){ cb.call(as, as._.err) }\n\t\t\t\treturn as;\n\t\t\t}\n\t\t\tif(tmp = this._.stun){ // TODO: Refactor?\n\t\t\t\tgun._.stun = gun._.stun || tmp;\n\t\t\t}\n\t\t\tif(cb && 'function' == typeof cb){\n\t\t\t\tgun.get(cb, as);\n\t\t\t}\n\t\t\treturn gun;\n\t\t}\n\t\tfunction cache(key, back){\n\t\t\tvar cat = back._, next = cat.next, gun = back.chain(), at = gun._;\n\t\t\tif(!next){ next = cat.next = {} }\n\t\t\tnext[at.get = key] = at;\n\t\t\tif(back === cat.root.$){\n\t\t\t\tat.soul = key;\n\t\t\t} else\n\t\t\tif(cat.soul || cat.has){\n\t\t\t\tat.has = key;\n\t\t\t\t//if(obj_has(cat.put, key)){\n\t\t\t\t\t//at.put = cat.put[key];\n\t\t\t\t//}\n\t\t\t}\n\t\t\treturn at;\n\t\t}\n\t\tfunction soul(gun, cb, opt, as){\n\t\t\tvar cat = gun._, acks = 0, tmp;\n\t\t\tif(tmp = cat.soul || cat.link || cat.dub){ return cb(tmp, as, cat) }\n\t\t\tif(cat.jam){ return cat.jam.push([cb, as]) }\n\t\t\tcat.jam = [[cb,as]];\n\t\t\tgun.get(function go(msg, eve){\n\t\t\t\tif(u === msg.put && !cat.root.opt.super && (tmp = Object.keys(cat.root.opt.peers).length) && ++acks <= tmp){ // TODO: super should not be in core code, bring AXE up into core instead to fix?\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\teve.rid(msg);\n\t\t\t\tvar at = ((at = msg.$) && at._) || {}, i = 0, as;\n\t\t\t\ttmp = cat.jam; delete cat.jam; // tmp = cat.jam.splice(0, 100);\n\t\t\t\t//if(tmp.length){ process.nextTick(function(){ go(msg, eve) }) }\n\t\t\t\twhile(as = tmp[i++]){ //Gun.obj.map(tmp, function(as, cb){\n\t\t\t\t\tvar cb = as[0], id; as = as[1];\n\t\t\t\t\tcb && cb(id = at.link || at.soul || rel.is(msg.put) || node_soul(msg.put) || at.dub, as, msg, eve);\n\t\t\t\t} //);\n\t\t\t}, {out: {get: {'.':true}}});\n\t\t\treturn gun;\n\t\t}\n\t\tfunction use(msg){\n\t\t\tvar eve = this, as = eve.as, cat = as.at, root = cat.root, gun = msg.$, at = (gun||{})._ || {}, data = msg.put || at.put, tmp;\n\t\t\tif((tmp = root.now) && eve !== tmp[as.now]){ return eve.to.next(msg) }\n\t\t\t//if(at.async && msg.root){ return }\n\t\t\t//if(at.async === 1 && cat.async !== true){ return }\n\t\t\t//if(root.stop && root.stop[at.id]){ return } root.stop && (root.stop[at.id] = true);\n\t\t\t//if(!at.async && !cat.async && at.put && msg.put === at.put){ return }\n\t\t\t//else if(!cat.async && msg.put !== at.put && root.stop && root.stop[at.id]){ return } root.stop && (root.stop[at.id] = true);\n\n\n\t\t\t//root.stop && (root.stop.id = root.stop.id || Gun.text.random(2));\n\t\t\t//if((tmp = root.stop) && (tmp = tmp[at.id] || (tmp[at.id] = {})) && tmp[cat.id]){ return } tmp && (tmp[cat.id] = true);\n\t\t\tif(eve.seen && at.id && eve.seen[at.id]){ return eve.to.next(msg) }\n\t\t\t//if((tmp = root.stop)){ if(tmp[at.id]){ return } tmp[at.id] = msg.root; } // temporary fix till a better solution?\n\t\t\tif((tmp = data) && tmp[rel._] && (tmp = rel.is(tmp))){\n\t\t\t\ttmp = ((msg.$$ = at.root.$.get(tmp))._);\n\t\t\t\tif(u !== tmp.put){\n\t\t\t\t\tmsg = obj_to(msg, {put: data = tmp.put});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif((tmp = root.mum) && at.id){ // TODO: can we delete mum entirely now?\n\t\t\t\tvar id = at.id + (eve.id || (eve.id = Gun.text.random(9)));\n\t\t\t\tif(tmp[id]){ return }\n\t\t\t\tif(u !== data && !rel.is(data)){ tmp[id] = true; }\n\t\t\t}\n\t\t\tas.use(msg, eve);\n\t\t\tif(eve.stun){\n\t\t\t\teve.stun = null;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\teve.to.next(msg);\n\t\t}\n\t\tfunction rid(at){\n\t\t\tvar cat = this.on;\n\t\t\tif(!at || cat.soul || cat.has){ return this.off() }\n\t\t\tif(!(at = (at = (at = at.$ || at)._ || at).id)){ return }\n\t\t\tvar map = cat.map, tmp, seen;\n\t\t\t//if(!map || !(tmp = map[at]) || !(tmp = tmp.at)){ return }\n\t\t\tif(tmp = (seen = this.seen || (this.seen = {}))[at]){ return true }\n\t\t\tseen[at] = true;\n\t\t\treturn;\n\t\t\t//tmp.echo[cat.id] = {}; // TODO: Warning: This unsubscribes ALL of this chain's listeners from this link, not just the one callback event.\n\t\t\t//obj.del(map, at); // TODO: Warning: This unsubscribes ALL of this chain's listeners from this link, not just the one callback event.\n\t\t\treturn;\n\t\t}\n\t\tvar obj = Gun.obj, obj_map = obj.map, obj_has = obj.has, obj_to = Gun.obj.to;\n\t\tvar num_is = Gun.num.is;\n\t\tvar rel = Gun.val.link, node_soul = Gun.node.soul, node_ = Gun.node._;\n\t\tvar empty = {}, u;\n\t})(USE, './get');\n\n\t;USE(function(module){\n\t\tvar Gun = USE('./root');\n\t\tGun.chain.put = function(data, cb, as){\n\t\t\tvar gun = this, at = (gun._), root = at.root.$, ctx = root._, M = 100, tmp;\n\t\t\tas = as || {};\n\t\t\tas.data = data;\n\t\t\tas.via = as.$ = as.via || as.$ || gun;\n\t\t\tif(typeof cb === 'string'){\n\t\t\t\tas.soul = cb;\n\t\t\t} else {\n\t\t\t\tas.ack = as.ack || cb;\n\t\t\t}\n\t\t\tif(at.soul){\n\t\t\t\tas.soul = at.soul;\n\t\t\t}\n\t\t\tif(as.soul || root === gun){\n\t\t\t\tif(!obj_is(as.data)){\n\t\t\t\t\t(as.ack||noop).call(as, as.out = {err: Gun.log(\"Data saved to the root level of the graph must be a node (an object), not a\", (typeof as.data), 'of \"' + as.data + '\"!')});\n\t\t\t\t\tif(as.res){ as.res() }\n\t\t\t\t\treturn gun;\n\t\t\t\t}\n\t\t\t\tas.soul = as.soul || (as.not = Gun.node.soul(as.data) || (as.via.back('opt.uuid') || Gun.text.random)());\n\t\t\t\tas.via._.stun = {};\n\t\t\t\tif(!as.soul){ // polyfill async uuid for SEA\n\t\t\t\t\tas.via.back('opt.uuid')(function(err, soul){ // TODO: improve perf without anonymous callback\n\t\t\t\t\t\tif(err){ return Gun.log(err) } // TODO: Handle error!\n\t\t\t\t\t\t(as.ref||as.$).put(as.data, as.soul = soul, as);\n\t\t\t\t\t});\n\t\t\t\t\treturn gun;\n\t\t\t\t}\n\t\t\t\tas.$ = root.get(as.soul);\n\t\t\t\tas.ref = as.$;\n\t\t\t\tify(as);\n\t\t\t\treturn gun;\n\t\t\t}\n\t\t\tas.via._.stun = {};\n\t\t\tif(Gun.is(data)){\n\t\t\t\tdata.get(function(soul, o, msg){\n\t\t\t\t\tif(!soul){\n\t\t\t\t\t\tdelete as.via._.stun;\n\t\t\t\t\t\treturn Gun.log(\"The reference you are saving is a\", typeof msg.put, '\"'+ msg.put +'\", not a node (object)!');\n\t\t\t\t\t}\n\t\t\t\t\tgun.put(Gun.val.link.ify(soul), cb, as);\n\t\t\t\t}, true);\n\t\t\t\treturn gun;\n\t\t\t}\n\t\t\tif(at.has && (tmp = Gun.val.link.is(data))){ at.dub = tmp }\n\t\t\tas.ref = as.ref || (root._ === (tmp = at.back))? gun : tmp.$;\n\t\t\tif(as.ref._.soul && Gun.val.is(as.data) && at.get){\n\t\t\t\tas.data = obj_put({}, at.get, as.data);\n\t\t\t\tas.ref.put(as.data, as.soul, as);\n\t\t\t\treturn gun;\n\t\t\t}\n\t\t\tas.ref.get(any, true, {as: as});\n\t\t\tif(!as.out){\n\t\t\t\t// TODO: Perf idea! Make a global lock, that blocks everything while it is on, but if it is on the lock it does the expensive lookup to see if it is a dependent write or not and if not then it proceeds full speed. Meh? For write heavy async apps that would be terrible.\n\t\t\t\tas.res = as.res || stun; // Gun.on.stun(as.ref); // TODO: BUG! Deal with locking?\n\t\t\t\tas.$._.stun = as.ref._.stun;\n\t\t\t}\n\t\t\treturn gun;\n\t\t};\n\t\t/*Gun.chain.put = function(data, cb, as){ // don't rewrite! :(\n\t\t\tvar gun = this, at = gun._;\n\t\t\tas = as || {};\n\t\t\tas.soul || (as.soul = at.soul || ('string' == typeof cb && cb));\n\t\t\tif(!as.soul){ return get(data, cb, as) }\n\n\t\t\treturn gun;\n\t\t}*/\n\n\t\tfunction ify(as){\n\t\t\tas.batch = batch;\n\t\t\tvar opt = as.opt||{}, env = as.env = Gun.state.map(map, opt.state);\n\t\t\tenv.soul = as.soul;\n\t\t\tas.graph = Gun.graph.ify(as.data, env, as);\n\t\t\tif(env.err){\n\t\t\t\t(as.ack||noop).call(as, as.out = {err: Gun.log(env.err)});\n\t\t\t\tif(as.res){ as.res() }\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tas.batch();\n\t\t}\n\n\t\tfunction stun(cb){\n\t\t\tif(cb){ cb() }\n\t\t\treturn;\n\t\t\tvar as = this;\n\t\t\tif(!as.ref){ return }\n\t\t\tif(cb){\n\t\t\t\tas.after = as.ref._.tag;\n\t\t\t\tas.now = as.ref._.tag = {};\n\t\t\t\tcb();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(as.after){\n\t\t\t\tas.ref._.tag = as.after;\n\t\t\t}\n\t\t}\n\n\t\tfunction batch(){ var as = this;\n\t\t\tif(!as.graph || !obj_empty(as.stun)){ return }\n\t\t\tas.res = as.res || function(cb){ if(cb){ cb() } };\n\t\t\tas.res(function(){\n\t\t\t\tdelete as.via._.stun;\n\t\t\t\tvar cat = (as.$.back(-1)._), ask = cat.ask(function(ack){\n\t\t\t\t\tcat.root.on('ack', ack);\n\t\t\t\t\tif(ack.err){ Gun.log(ack) }\n\t\t\t\t\tif(++acks > (as.acks || 0)){ this.off() } // Adjustable ACKs! Only 1 by default.\n\t\t\t\t\tif(!as.ack){ return }\n\t\t\t\t\tas.ack(ack, this);\n\t\t\t\t\t//--C;\n\t\t\t\t}, as.opt), acks = 0;\n\t\t\t\t//C++;\n\t\t\t\t// NOW is a hack to get synchronous replies to correctly call.\n\t\t\t\t// and STOP is a hack to get async behavior to correctly call.\n\t\t\t\t// neither of these are ideal, need to be fixed without hacks,\n\t\t\t\t// but for now, this works for current tests. :/\n\t\t\t\tvar tmp = cat.root.now; obj.del(cat.root, 'now');\n\t\t\t\tvar mum = cat.root.mum; cat.root.mum = {};\n\t\t\t\t(as.ref._).on('out', {\n\t\t\t\t\t$: as.ref, put: as.out = as.env.graph, opt: as.opt, '#': ask\n\t\t\t\t});\n\t\t\t\tcat.root.mum = mum? obj.to(mum, cat.root.mum) : mum;\n\t\t\t\tcat.root.now = tmp;\n\t\t\t\tas.via._.on('res', {}); delete as.via._.tag.res; // emitting causes mem leak?\n\t\t\t}, as);\n\t\t\tif(as.res){ as.res() }\n\t\t} function no(v,k){ if(v){ return true } }\n\n\t\tfunction map(v,k,n, at){ var as = this;\n\t\t\tvar is = Gun.is(v);\n\t\t\tif(k || !at.path.length){ return }\n\t\t\t(as.res||iife)(function(){\n\t\t\t\tvar path = at.path, ref = as.ref, opt = as.opt;\n\t\t\t\tvar i = 0, l = path.length;\n\t\t\t\tfor(i; i < l; i++){\n\t\t\t\t\tref = ref.get(path[i]);\n\t\t\t\t}\n\t\t\t\tif(is){ ref = v }\n\t\t\t\t//if(as.not){ (ref._).dub = Gun.text.random() } // This might optimize stuff? Maybe not needed anymore. Make sure it doesn't introduce bugs.\n\t\t\t\tvar id = (ref._).dub;\n\t\t\t\tif(id || (id = Gun.node.soul(at.obj))){\n\t\t\t\t\tref.back(-1).get(id);\n\t\t\t\t\tat.soul(id);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t(as.stun = as.stun || {})[path] = 1;\n\t\t\t\tref.get(soul, true, {as: {at: at, as: as, p:path, ref: ref}});\n\t\t\t}, {as: as, at: at});\n\t\t\t//if(is){ return {} }\n\t\t}\n\t\tvar G = String.fromCharCode(31);\n\t\tfunction soul(id, as, msg, eve){\n\t\t\tvar as = as.as, path = as.p, ref = as.ref, cat = as.at, pat = []; as = as.as;\n\t\t\tref.back(function(at){\n\t\t\t\tif(sat = at.soul || at.link || at.dub){ return sat }\n\t\t\t\tpat.push(at.has || at.get);\n\t\t\t});\n\t\t\tpat = [sat || as.soul].concat(pat.reverse());\n\t\t\tvar at = ((msg || {}).$ || {})._ || {};\n\t\t\tid = at.dub = at.dub || id || Gun.node.soul(cat.obj) || Gun.node.soul(msg.put || at.put) || Gun.val.link.is(msg.put || at.put) || pat.join('/') /* || (function(){\n\t\t\t\treturn (as.soul+'.')+Gun.text.hash(path.join(G)).toString(32);\n\t\t\t})(); // TODO: BUG!? Do we really want the soul of the object given to us? Could that be dangerous? What about copy operations? */\n\t\t\tif(eve){ eve.stun = true }\n\t\t\tif(!id){ // polyfill async uuid for SEA\n\t\t\t\tas.via.back('opt.uuid')(function(err, id){ // TODO: improve perf without anonymous callback\n\t\t\t\t\tif(err){ return Gun.log(err) } // TODO: Handle error.\n\t\t\t\t\tsolve(at, at.dub = at.dub || id, cat, as);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsolve(at, at.dub = id, cat, as);\n\t\t}\n\n\t\tfunction solve(at, id, cat, as){\n\t\t\tat.$.back(-1).get(id);\n\t\t\tcat.soul(id);\n\t\t\tdelete as.stun[cat.path];\n\t\t\tas.batch();\n\t\t}\n\n\t\tfunction any(soul, as, msg, eve){\n\t\t\tas = as.as;\n\t\t\tif(!msg.$ || !msg.$._){ return } // TODO: Handle\n\t\t\tif(msg.err){ // TODO: Handle\n\t\t\t\tGun.log(\"Please report this as an issue! Put.any.err\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar at = (msg.$._), data = at.put, opt = as.opt||{}, root, tmp;\n\t\t\tif((tmp = as.ref) && tmp._.now){ return }\n\t\t\tif(eve){ eve.stun = true }\n\t\t\tif(as.ref !== as.$){\n\t\t\t\ttmp = (as.$._).get || at.get;\n\t\t\t\tif(!tmp){ // TODO: Handle\n\t\t\t\t\tdelete as.via._.stun;\n\t\t\t\t\tGun.log(\"Please report this as an issue! Put.no.get\"); // TODO: BUG!??\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tas.data = obj_put({}, tmp, as.data);\n\t\t\t\ttmp = null;\n\t\t\t}\n\t\t\tif(u === data){\n\t\t\t\tif(!at.get){ delete as.via._.stun; return } // TODO: Handle\n\t\t\t\tif(!soul){\n\t\t\t\t\ttmp = at.$.back(function(at){\n\t\t\t\t\t\tif(at.link || at.soul){ return at.link || at.soul }\n\t\t\t\t\t\tas.data = obj_put({}, at.get, as.data);\n\t\t\t\t\t});\n\t\t\t\t\tas.not = true; // maybe consider this?\n\t\t\t\t}\n\t\t\t\ttmp = tmp || at.soul || at.link || at.dub;// || at.get;\n\t\t\t\tat = tmp? (at.root.$.get(tmp)._) : at;\n\t\t\t\tas.soul = tmp;\n\t\t\t\tdata = as.data;\n\t\t\t}\n\t\t\tif(!as.not && !(as.soul = as.soul || soul)){\n\t\t\t\tif(as.path && obj_is(as.data)){\n\t\t\t\t\tas.soul = (opt.uuid || as.via.back('opt.uuid') || Gun.text.random)();\n\t\t\t\t} else {\n\t\t\t\t\t//as.data = obj_put({}, as.$._.get, as.data);\n\t\t\t\t\tif(node_ == at.get){\n\t\t\t\t\t\tas.soul = (at.put||empty)['#'] || at.dub;\n\t\t\t\t\t}\n\t\t\t\t\tas.soul = as.soul || at.soul || at.link || (opt.uuid || as.via.back('opt.uuid') || Gun.text.random)();\n\t\t\t\t}\n\t\t\t\tif(!as.soul){ // polyfill async uuid for SEA\n\t\t\t\t\tas.via.back('opt.uuid')(function(err, soul){ // TODO: improve perf without anonymous callback\n\t\t\t\t\t\tif(err){ delete as.via._.stun; return Gun.log(err) } // Handle error.\n\t\t\t\t\t\tas.ref.put(as.data, as.soul = soul, as);\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tas.ref.put(as.data, as.soul, as);\n\t\t}\n\t\tvar obj = Gun.obj, obj_is = obj.is, obj_put = obj.put, obj_map = obj.map, obj_empty = obj.empty;\n\t\tvar u, empty = {}, noop = function(){}, iife = function(fn,as){fn.call(as||empty)};\n\t\tvar node_ = Gun.node._;\n\t})(USE, './put');\n\n\t;USE(function(module){\n\t\tvar Gun = USE('./root');\n\t\tUSE('./chain');\n\t\tUSE('./back');\n\t\tUSE('./put');\n\t\tUSE('./get');\n\t\tmodule.exports = Gun;\n\t})(USE, './index');\n\n\t;USE(function(module){\n\t\tvar Gun = USE('./index');\n\t\tGun.chain.on = function(tag, arg, eas, as){\n\t\t\tvar gun = this, at = gun._, tmp, act, off;\n\t\t\tif(typeof tag === 'string'){\n\t\t\t\tif(!arg){ return at.on(tag) }\n\t\t\t\tact = at.on(tag, arg, eas || at, as);\n\t\t\t\tif(eas && eas.$){\n\t\t\t\t\t(eas.subs || (eas.subs = [])).push(act);\n\t\t\t\t}\n\t\t\t\treturn gun;\n\t\t\t}\n\t\t\tvar opt = arg;\n\t\t\topt = (true === opt)? {change: true} : opt || {};\n\t\t\topt.at = at;\n\t\t\topt.ok = tag;\n\t\t\t//opt.last = {};\n\t\t\tgun.get(ok, opt); // TODO: PERF! Event listener leak!!!?\n\t\t\treturn gun;\n\t\t}\n\n\t\tfunction ok(msg, ev){ var opt = this;\n\t\t\tvar gun = msg.$, at = (gun||{})._ || {}, data = at.put || msg.put, cat = opt.at, tmp;\n\t\t\tif(u === data){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tmp = msg.$$){\n\t\t\t\ttmp = (msg.$$._);\n\t\t\t\tif(u === tmp.put){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdata = tmp.put;\n\t\t\t}\n\t\t\tif(opt.change){ // TODO: BUG? Move above the undef checks?\n\t\t\t\tdata = msg.put;\n\t\t\t}\n\t\t\t// DEDUPLICATE // TODO: NEEDS WORK! BAD PROTOTYPE\n\t\t\t//if(tmp.put === data && tmp.get === id && !Gun.node.soul(data)){ return }\n\t\t\t//tmp.put = data;\n\t\t\t//tmp.get = id;\n\t\t\t// DEDUPLICATE // TODO: NEEDS WORK! BAD PROTOTYPE\n\t\t\t//at.last = data;\n\t\t\tif(opt.as){\n\t\t\t\topt.ok.call(opt.as, msg, ev);\n\t\t\t} else {\n\t\t\t\topt.ok.call(gun, data, msg.get, msg, ev);\n\t\t\t}\n\t\t}\n\n\t\tGun.chain.val = function(cb, opt){\n\t\t\tGun.log.once(\"onceval\", \"Future Breaking API Change: .val -> .once, apologies unexpected.\");\n\t\t\treturn this.once(cb, opt);\n\t\t}\n\t\tGun.chain.once = function(cb, opt){\n\t\t\tvar gun = this, at = gun._, data = at.put;\n\t\t\tif(0 < at.ack && u !== data){\n\t\t\t\t(cb || noop).call(gun, data, at.get);\n\t\t\t\treturn gun;\n\t\t\t}\n\t\t\tif(cb){\n\t\t\t\t(opt = opt || {}).ok = cb;\n\t\t\t\topt.at = at;\n\t\t\t\topt.out = {'#': Gun.text.random(9)};\n\t\t\t\tgun.get(val, {as: opt});\n\t\t\t\topt.async = true; //opt.async = at.stun? 1 : true;\n\t\t\t} else {\n\t\t\t\tGun.log.once(\"valonce\", \"Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\");\n\t\t\t\tvar chain = gun.chain();\n\t\t\t\tchain._.nix = gun.once(function(){\n\t\t\t\t\tchain._.on('in', gun._);\n\t\t\t\t});\n\t\t\t\treturn chain;\n\t\t\t}\n\t\t\treturn gun;\n\t\t}\n\n\t\tfunction val(msg, eve, to){\n\t\t\tif(!msg.$){ eve.off(); return }\n\t\t\tvar opt = this.as, cat = opt.at, gun = msg.$, at = gun._, data = at.put || msg.put, link, tmp;\n\t\t\tif(tmp = msg.$$){\n\t\t\t\tlink = tmp = (msg.$$._);\n\t\t\t\tif(u !== link.put){\n\t\t\t\t\tdata = link.put;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif((tmp = eve.wait) && (tmp = tmp[at.id])){ clearTimeout(tmp) }\n\t\t\teve.ack = (eve.ack||0)+1;\n\t\t\t// TODO: super should not be in core code, bring AXE up into core instead to fix?\n\t\t\tif(!to && u === data && !at.root.opt.super && eve.ack <= (opt.acks || Object.keys(at.root.opt.peers).length)){ return }\n\t\t\tif((!to && (u === data || at.soul || at.link || (link && !(0 < link.ack))))\n\t\t\t|| (u === data && !at.root.opt.super && (tmp = Object.keys(at.root.opt.peers).length) && (!to && (link||at).ack < tmp))){\n\t\t\t\ttmp = (eve.wait = {})[at.id] = setTimeout(function(){\n\t\t\t\t\tval.call({as:opt}, msg, eve, tmp || 1);\n\t\t\t\t}, opt.wait || 99);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(link && u === link.put && (tmp = rel.is(data))){ data = Gun.node.ify({}, tmp) }\n\t\t\teve.rid? eve.rid(msg) : eve.off();\n\t\t\topt.ok.call(gun || opt.$, data, msg.get);\n\t\t}\n\n\t\tGun.chain.off = function(){\n\t\t\t// make off more aggressive. Warning, it might backfire!\n\t\t\tvar gun = this, at = gun._, tmp;\n\t\t\tvar cat = at.back;\n\t\t\tif(!cat){ return }\n\t\t\tat.ack = 0; // so can resubscribe.\n\t\t\tif(tmp = cat.next){\n\t\t\t\tif(tmp[at.get]){\n\t\t\t\t\tobj_del(tmp, at.get);\n\t\t\t\t} else {\n\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(tmp = cat.ask){\n\t\t\t\tobj_del(tmp, at.get);\n\t\t\t}\n\t\t\tif(tmp = cat.put){\n\t\t\t\tobj_del(tmp, at.get);\n\t\t\t}\n\t\t\tif(tmp = at.soul){\n\t\t\t\tobj_del(cat.root.graph, tmp);\n\t\t\t}\n\t\t\tif(tmp = at.map){\n\t\t\t\tobj_map(tmp, function(at){\n\t\t\t\t\tif(at.link){\n\t\t\t\t\t\tcat.root.$.get(at.link).off();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif(tmp = at.next){\n\t\t\t\tobj_map(tmp, function(neat){\n\t\t\t\t\tneat.$.off();\n\t\t\t\t});\n\t\t\t}\n\t\t\tat.on('off', {});\n\t\t\treturn gun;\n\t\t}\n\t\tvar obj = Gun.obj, obj_map = obj.map, obj_has = obj.has, obj_del = obj.del, obj_to = obj.to;\n\t\tvar rel = Gun.val.link;\n\t\tvar empty = {}, noop = function(){}, u;\n\t})(USE, './on');\n\n\t;USE(function(module){\n\t\tvar Gun = USE('./index');\n\t\tGun.chain.map = function(cb, opt, t){\n\t\t\tvar gun = this, cat = gun._, chain;\n\t\t\tif(!cb){\n\t\t\t\tif(chain = cat.each){ return chain }\n\t\t\t\tcat.each = chain = gun.chain();\n\t\t\t\tchain._.nix = gun.back('nix');\n\t\t\t\tgun.on('in', map, chain._);\n\t\t\t\treturn chain;\n\t\t\t}\n\t\t\tGun.log.once(\"mapfn\", \"Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it.\");\n\t\t\tchain = gun.chain();\n\t\t\tgun.map().on(function(data, key, at, ev){\n\t\t\t\tvar next = (cb||noop).call(this, data, key, at, ev);\n\t\t\t\tif(u === next){ return }\n\t\t\t\tif(data === next){ return chain._.on('in', at) }\n\t\t\t\tif(Gun.is(next)){ return chain._.on('in', next._) }\n\t\t\t\tchain._.on('in', {get: key, put: next});\n\t\t\t});\n\t\t\treturn chain;\n\t\t}\n\t\tfunction map(msg){\n\t\t\tif(!msg.put || Gun.val.is(msg.put)){ return this.to.next(msg) }\n\t\t\tif(this.as.nix){ this.off() } // TODO: Ugly hack!\n\t\t\tobj_map(msg.put, each, {at: this.as, msg: msg});\n\t\t\tthis.to.next(msg);\n\t\t}\n\t\tfunction each(v,k){\n\t\t\tif(n_ === k){ return }\n\t\t\tvar msg = this.msg, gun = msg.$, at = gun._, cat = this.at, tmp = at.lex;\n\t\t\tif(tmp && !Gun.text.match(k, tmp['.'] || tmp['#'] || tmp)){ return } // review?\n\t\t\t((tmp = gun.get(k)._).echo || (tmp.echo = {}))[cat.id] = tmp.echo[cat.id] || cat;\n\t\t}\n\t\tvar obj_map = Gun.obj.map, noop = function(){}, event = {stun: noop, off: noop}, n_ = Gun.node._, u;\n\t})(USE, './map');\n\n\t;USE(function(module){\n\t\tvar Gun = USE('./index');\n\t\tGun.chain.set = function(item, cb, opt){\n\t\t\tvar gun = this, soul;\n\t\t\tcb = cb || function(){};\n\t\t\topt = opt || {}; opt.item = opt.item || item;\n\t\t\tif(soul = Gun.node.soul(item)){ item = Gun.obj.put({}, soul, Gun.val.link.ify(soul)) }\n\t\t\tif(!Gun.is(item)){\n\t\t\t\tif(Gun.obj.is(item)){\n\t\t\t\t\t//item = gun.back(-1).get(soul = soul || Gun.node.soul(item) || (gun.back('opt.uuid') || uuid)()).put(item);\n\t\t\t\t\tsoul = soul || Gun.node.soul(item) || uuid(); // this just key now, not a soul.\n\t\t\t\t}\n\t\t\t\treturn gun.get(soul || uuid()).put(item, cb, opt);\n\t\t\t}\n\t\t\titem.get(function(soul, o, msg){\n\t\t\t\tif(!soul && item._.stun){ item._.on('res', function(){ this.off(); gun.set(item, cb, opt) }); return }\n\t\t\t\tif(!soul){ return cb.call(gun, {err: Gun.log('Only a node can be linked! Not \"' + msg.put + '\"!')}) }\n\t\t\t\tgun.put(Gun.obj.put({}, soul, Gun.val.link.ify(soul)), cb, opt);\n\t\t\t},true);\n\t\t\treturn item;\n\t\t}\n\t\tfunction uuid(){ return Gun.state.lex() + Gun.text.random(7) }\n\t})(USE, './set');\n\n\t;USE(function(module){\n\t\tif(typeof Gun === 'undefined'){ return } // TODO: localStorage is Browser only. But it would be nice if it could somehow plugin into NodeJS compatible localStorage APIs?\n\n\t\tvar root, noop = function(){}, store, u;\n\t\ttry{store = (Gun.window||noop).localStorage}catch(e){}\n\t\tif(!store){\n\t\t\tGun.log(\"Warning: No localStorage exists to persist data to!\");\n\t\t\tstore = {setItem: function(k,v){this[k]=v}, removeItem: function(k){delete this[k]}, getItem: function(k){return this[k]}};\n\t\t}\n\t\t/*\n\t\t\tNOTE: Both `lib/file.js` and `lib/memdisk.js` are based on this design!\n\t\t\tIf you update anything here, consider updating the other adapters as well.\n\t\t*/\n\n\t\tGun.on('create', function(root){\n\t\t\t// This code is used to queue offline writes for resync.\n\t\t\t// See the next 'opt' code below for actual saving of data.\n\t\t\tvar ev = this.to, opt = root.opt;\n\t\t\tif(root.once){ return ev.next(root) }\n\t\t\tif(false === opt.localStorage){ return ev.next(root) } // we want offline resynce queue regardless! // actually, this doesn't help, per @go1dfish 's observation. Disabling for now, will need better solution later.\n\t\t\topt.prefix = opt.file || 'gun/';\n\t\t\tvar gap = Gun.obj.ify(store.getItem('gap/'+opt.prefix)) || {};\n\t\t\tvar empty = Gun.obj.empty, id, to, go;\n\t\t\t// add re-sync command.\n\t\t\tif(!empty(gap)){\n\t\t\t\tvar disk = Gun.obj.ify(store.getItem(opt.prefix)) || {}, send = {};\n\t\t\t\tGun.obj.map(gap, function(node, soul){\n\t\t\t\t\tGun.obj.map(node, function(val, key){\n\t\t\t\t\t\tsend[soul] = Gun.state.to(disk[soul], key, send[soul]);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t// TODO: Holy Grail dangling by this thread! If gap / offline resync doesn't trigger, it doesn't work. Ouch, and this is a localStorage specific adapter. :(\n\t\t\t\t\troot.on('out', {put: send, '#': root.ask(ack)});\n\t\t\t\t},1);\n\t\t\t}\n\n\t\t\troot.on('out', function(msg){\n\t\t\t\tif(msg.lS){ return } // TODO: for IndexedDB and others, shouldn't send to peers ACKs to our own GETs. // THIS IS BLOCKING BROWSERS REPLYING TO REQUESTS, NO??? CHANGE THIS SOON!! UNDER CONTROLLED CIRCUMSTANCES!! Or maybe in-memory already doe sit?\n\t\t\t\tif(Gun.is(msg.$) && msg.put && !msg['@']){\n\t\t\t\t\tid = msg['#'];\n\t\t\t\t\tGun.graph.is(msg.put, null, map);\n\t\t\t\t\tif(!to){ to = setTimeout(flush, opt.wait || 1) }\n\t\t\t\t}\n\t\t\t\tthis.to.next(msg);\n\t\t\t});\n\t\t\troot.on('ack', ack);\n\n\t\t\tfunction ack(ack){ // TODO: This is experimental, not sure if we should keep this type of event hook.\n\t\t\t\tif(ack.err || !ack.ok){ return }\n\t\t\t\tvar id = ack['@'];\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tGun.obj.map(gap, function(node, soul){\n\t\t\t\t\t\tGun.obj.map(node, function(val, key){\n\t\t\t\t\t\t\tif(id !== val){ return }\n\t\t\t\t\t\t\tdelete node[key];\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(empty(node)){\n\t\t\t\t\t\t\tdelete gap[soul];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tflush();\n\t\t\t\t}, opt.wait || 1);\n\t\t\t};\n\t\t\tev.next(root);\n\n\t\t\tvar map = function(val, key, node, soul){\n\t\t\t\t(gap[soul] || (gap[soul] = {}))[key] = id;\n\t\t\t}\n\t\t\tvar flush = function(){\n\t\t\t\tclearTimeout(to);\n\t\t\t\tto = false;\n\t\t\t\ttry{store.setItem('gap/'+opt.prefix, JSON.stringify(gap));\n\t\t\t\t}catch(e){ Gun.log(err = e || \"localStorage failure\") }\n\t\t\t}\n\t\t});\n\n\t\tGun.on('create', function(root){\n\t\t\tthis.to.next(root);\n\t\t\tvar opt = root.opt;\n\t\t\tif(root.once){ return }\n\t\t\tif(false === opt.localStorage){ return }\n\t\t\topt.prefix = opt.file || 'gun/';\n\t\t\tvar graph = root.graph, acks = {}, count = 0, to;\n\t\t\tvar disk = Gun.obj.ify(store.getItem(opt.prefix)) || {};\n\t\t\tvar lS = function(){}, u;\n\t\t\troot.on('localStorage', disk); // NON-STANDARD EVENT!\n\n\t\t\troot.on('put', function(msg){\n\t\t\t\tthis.to.next(msg);\n\t\t\t\tvar put = msg.put, soul = put['#'], key = put['.'], val = put[':'], state = put['>'], tmp;\n\t\t\t\tdisk[soul] = Gun.state.ify(disk[soul], key, state, val, soul);\n\t\t\t\tif(!msg['@']){ (acks[msg['#']] = (tmp = (msg._||'').lot || {})).lS = (tmp.lS||0)+1; } // only ack non-acks.\n\t\t\t\tcount += 1;\n\t\t\t\tif(count >= (opt.batch || 1000)){\n\t\t\t\t\treturn flush();\n\t\t\t\t}\n\t\t\t\tif(to){ return }\n\t\t\t\tto = setTimeout(flush, opt.wait || 1);\n\t\t\t});\n\n\t\t\troot.on('get', function(msg){\n\t\t\t\tthis.to.next(msg);\n\t\t\t\tvar lex = msg.get, soul, data, u;\n\t\t\t\tfunction to(){\n\t\t\t\tif(!lex || !(soul = lex['#'])){ return }\n\t\t\t\t//if(0 >= msg.cap){ return }\n\t\t\t\tvar has = lex['.'];\n\t\t\t\tdata = disk[soul] || u;\n\t\t\t\tif(data && has){\n\t\t\t\t\tdata = Gun.state.to(data, has);\n\t\t\t\t}\n\t\t\t\t//if(!data && !Gun.obj.empty(opt.peers)){ return } // if data not found, don't ack if there are peers. // Hmm, what if we have peers but we are disconnected?\n\t\t\t\troot.on('in', {'@': msg['#'], put: Gun.graph.node(data), lS:1});// || root.$});\n\t\t\t\t};\n\t\t\t\tGun.debug? setTimeout(to,1) : to();\n\t\t\t});\n\n\t\t\tvar map = function(val, key, node, soul){\n\t\t\t\tdisk[soul] = Gun.state.to(node, key, disk[soul]);\n\t\t\t}\n\n\t\t\tvar flush = function(data){\n\t\t\t\tvar err;\n\t\t\t\tcount = 0;\n\t\t\t\tclearTimeout(to);\n\t\t\t\tto = false;\n\t\t\t\tvar ack = acks;\n\t\t\t\tacks = {};\n\t\t\t\tif(data){ disk = data }\n\t\t\t\ttry{store.setItem(opt.prefix, JSON.stringify(disk));\n\t\t\t\t}catch(e){\n\t\t\t\t\tGun.log(err = (e || \"localStorage failure\") + \" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install\");\n\t\t\t\t\troot.on('localStorage:error', {err: err, file: opt.prefix, flush: disk, retry: flush});\n\t\t\t\t}\n\t\t\t\tif(!err && !Gun.obj.empty(opt.peers)){ return } // only ack if there are no peers.\n\t\t\t\tGun.obj.map(ack, function(yes, id){\n\t\t\t\t\tif(yes){\n\t\t\t\t\t\tif(yes.more){ acks[id] = yes; return }\n\t\t\t\t\t\tif(yes.s !== yes.lS){ err = \"localStorage batch not same.\" }\n\t\t\t\t\t}\n\t\t\t\t\troot.on('in', {\n\t\t\t\t\t\t'@': id,\n\t\t\t\t\t\terr: err,\n\t\t\t\t\t\tok: 0 // localStorage isn't reliable, so make its `ok` code be a low number.\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t})(USE, './adapters/localStorage');\n\n\t;USE(function(module){\n\t\tvar Type = USE('../type');\n\n\t\tfunction Mesh(root){\n\t\t\tvar mesh = function(){};\n\t\t\tvar opt = root.opt || {};\n\t\t\topt.log = opt.log || console.log;\n\t\t\topt.gap = opt.gap || opt.wait || 0;\n\t\t\topt.pack = opt.pack || (opt.memory? (opt.memory * 1000 * 1000) : 1399000000) * 0.3; // max_old_space_size defaults to 1400 MB.\n\t\t\topt.puff = opt.puff || 9; // IDEA: do a start/end benchmark, divide ops/result.\n\t\t\tvar puff = setTimeout.puff || setTimeout;\n\n\t\t\tvar dup = root.dup, dup_check = dup.check, dup_track = dup.track;\n\n\t\t\tvar hear = mesh.hear = function(raw, peer){\n\t\t\t\tif(!raw){ return }\n\t\t\t\tif(opt.pack <= raw.length){ return mesh.say({dam: '!', err: \"Message too big!\"}, peer) }\n\t\t\t\tvar msg, id, hash, tmp = raw[0], DBG;\n\t\t\t\tif(mesh === this){ hear.d += raw.length||0 ; ++hear.c } // STATS!\n\t\t\t\tif('[' === tmp){\n\t\t\t\t\ttry{msg = JSON.parse(raw)}catch(e){opt.log('DAM JSON parse error', e)}\n\t\t\t\t\traw = '';\n\t\t\t\t\tif(!msg){ return }\n\t\t\t\t\tconsole.STAT && console.STAT(+new Date, msg.length, '# on hear batch');\n\t\t\t\t\tvar P = opt.puff;\n\t\t\t\t\t(function go(){\n\t\t\t\t\t\tvar S = +new Date;\n\t\t\t\t\t\t//var P = peer.puff || opt.puff, s = +new Date; // TODO: For future, but in mix?\n\t\t\t\t\t\tvar i = 0, m; while(i < P && (m = msg[i++])){ hear(m, peer) }\n\t\t\t\t\t\t//peer.puff = Math.ceil((+new Date - s)? P * 1.1 : P * 0.9);\n\t\t\t\t\t\tmsg = msg.slice(i); // slicing after is faster than shifting during.\n\t\t\t\t\t\tconsole.STAT && console.STAT(S, +new Date - S, 'hear loop');\n\t\t\t\t\t\tflush(peer); // force send all synchronously batched acks.\n\t\t\t\t\t\tif(!msg.length){ return }\n\t\t\t\t\t\tpuff(go, 0);\n\t\t\t\t\t}());\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif('{' === tmp || ((raw['#'] || obj_is(raw)) && (msg = raw))){\n\t\t\t\t\ttry{msg = msg || JSON.parse(raw);\n\t\t\t\t\t}catch(e){return opt.log('DAM JSON parse error', e)}\n\t\t\t\t\tif(!msg){ return }\n\t\t\t\t\tif(msg.DBG){ msg.DBG = DBG = {DBG: msg.DBG} }\n\t\t\t\t\tDBG && (DBG.hp = +new Date);\n\t\t\t\t\tif(!(id = msg['#'])){ id = msg['#'] = Type.text.random(9) }\n\t\t\t\t\tif(tmp = dup_check(id)){ return }\n\t\t\t\t\t/*if(!(hash = msg['##']) && u !== msg.put){ hash = msg['##'] = Type.obj.hash(msg.put) }\n\t\t\t\t\tif(hash && (tmp = msg['@'] || (msg.get && id))){ // Reduces backward daisy in case varying hashes at different daisy depths are the same.\n\t\t\t\t\t\tif(dup.check(tmp+hash)){ return }\n\t\t\t\t\t\tdup.track(tmp+hash, true).it = it(msg); // GUN core also dedups, so `true` is needed. // Does GUN core need to dedup anymore?\n\t\t\t\t\t}\n\t\t\t\t\tif(tmp = msg['><']){ (msg._).to = Type.obj.map(tmp.split(','), tomap) }\n\t\t\t\t\t*/ // TOOD: COME BACK TO THIS LATER!!! IMPORTANT MESH STUFF!!\n\t\t\t\t\t(msg._ = function(){}).via = mesh.leap = peer;\n\t\t\t\t\tif(tmp = msg.dam){\n\t\t\t\t\t\tif(tmp = mesh.hear[tmp]){\n\t\t\t\t\t\t\ttmp(msg, peer, root);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdup_track(id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar S = +new Date, ST;\n\t\t\t\t\tDBG && (DBG.is = S);\n\t\t\t\t\troot.on('in', msg);\n\t\t\t\t\t//ECHO = msg.put || ECHO; !(msg.ok !== -3740) && mesh.say({ok: -3740, put: ECHO, '@': msg['#']}, peer);\n\t\t\t\t\tDBG && (DBG.hd = +new Date);\n\t\t\t\t\tconsole.STAT && (ST = +new Date - S) > 9 && console.STAT(S, ST, 'msg'); // TODO: PERF: caught one > 1.5s on tgif\n\t\t\t\t\tdup_track(id).via = peer;\n\t\t\t\t\tmesh.leap = null; // warning! mesh.leap could be buggy.\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar tomap = function(k,i,m){m(k,true)};\n\t\t\tvar noop = function(){};\n\t\t\thear.c = hear.d = 0;\n\n\t\t\t;(function(){\n\t\t\t\tvar SMIA = 0;\n\t\t\t\tvar message, loop;\n\t\t\t\tfunction each(peer){ mesh.say(message, peer) }\n\t\t\t\tvar say = mesh.say = function(msg, peer){ var tmp;\n\t\t\t\t\tif((tmp = this) && (tmp = tmp.to) && tmp.next){ tmp.next(msg) } // compatible with middleware adapters.\n\t\t\t\t\tif(!msg){ return false }\n\t\t\t\t\tvar id, hash, raw;\n\t\t\t\t\tvar DBG = msg.DBG, S; if(!peer){ S = +new Date ; DBG && (DBG.y = S) }\n\t\t\t\t\tvar meta = msg._||(msg._=function(){});\n\t\t\t\t\tif(!(id = msg['#'])){ id = msg['#'] = Type.text.random(9) }\n\t\t\t\t\t//if(!(hash = msg['##']) && u !== msg.put){ hash = msg['##'] = Type.obj.hash(msg.put) }\n\t\t\t\t\tif(!(raw = meta.raw)){\n\t\t\t\t\t\traw = mesh.raw(msg);\n\t\t\t\t\t\t/*if(hash && (tmp = msg['@'])){\n\t\t\t\t\t\t\tdup.track(tmp+hash).it = it(msg);\n\t\t\t\t\t\t\tif(tmp = (dup.s[tmp]||ok).it){\n\t\t\t\t\t\t\t\tif(hash === tmp['##']){ return false }\n\t\t\t\t\t\t\t\ttmp['##'] = hash;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}*/\n\t\t\t\t\t}\n\t\t\t\t\tS && console.STAT && console.STAT(S, +new Date - S, 'say prep');\n\t\t\t\t\t!loop && dup_track(id);//.it = it(msg); // track for 9 seconds, default. Earth<->Mars would need more! // always track, maybe move this to the 'after' logic if we split function.\n\t\t\t\t\t//console.log(\"SEND!\", JSON.parse(JSON.stringify(msg)));\n\t\t\t\t\tif(!peer && (tmp = msg['@'])){ peer = ((tmp = dup.s[tmp]) && (tmp.via || ((tmp = tmp.it) && (tmp = tmp._) && tmp.via))) || mesh.leap } // warning! mesh.leap could be buggy!\n\t\t\t\t\tif(!peer && msg['@']){\n\t\t\t\t\t\tconsole.STAT && console.STAT(+new Date, ++SMIA, 'total no peer to ack to');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} // TODO: Temporary? If ack via trace has been lost, acks will go to all peers, which trashes browser bandwidth. Not relaying the ack will force sender to ask for ack again. Note, this is technically wrong for mesh behavior.\n\t\t\t\t\tif(!peer && mesh.way){ return mesh.way(msg) }\n\t\t\t\t\tif(!peer || !peer.id){ message = msg;\n\t\t\t\t\t\tif(!Type.obj.is(peer || opt.peers)){ return false }\n\t\t\t\t\t\tvar P = opt.puff, ps = opt.peers, pl = Object.keys(peer || opt.peers || {}); // TODO: BETTER PERF? No object.keys? It is polyfilled by Type.js tho.\n\t\t\t\t\t\t;(function go(){\n\t\t\t\t\t\t\tvar S = +new Date;\n\t\t\t\t\t\t\t//Type.obj.map(peer || opt.peers, each); // in case peer is a peer list.\n\t\t\t\t\t\t\tloop = 1; var wr = meta.raw; meta.raw = raw; // quick perf hack\n\t\t\t\t\t\t\tvar i = 0, p; while(i < 9 && (p = (pl||'')[i++])){\n\t\t\t\t\t\t\t\tif(!(p = ps[p])){ continue }\n\t\t\t\t\t\t\t\tsay(msg, p);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmeta.raw = wr; loop = 0;\n\t\t\t\t\t\t\tpl = pl.slice(i); // slicing after is faster than shifting during.\n\t\t\t\t\t\t\tconsole.STAT && console.STAT(S, +new Date - S, 'say loop');\n\t\t\t\t\t\t\tif(!pl.length){ return }\n\t\t\t\t\t\t\tpuff(go, 0);\n\t\t\t\t\t\t\tdup_track(msg['@']); // keep for later\n\t\t\t\t\t\t}());\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// TODO: PERF: consider splitting function here, so say loops do less work.\n\t\t\t\t\tif(!peer.wire && mesh.wire){ mesh.wire(peer) }\n\t\t\t\t\tif(id === peer.last){ return } peer.last = id;  // was it just sent?\n\t\t\t\t\tif(peer === meta.via){ return false } // don't send back to self.\n\t\t\t\t\tif((tmp = meta.to) && (tmp[peer.url] || tmp[peer.pid] || tmp[peer.id]) /*&& !o*/){ return false }\n\t\t\t\t\tif(peer.batch){\n\t\t\t\t\t\tpeer.tail = (tmp = peer.tail || 0) + raw.length;\n\t\t\t\t\t\tif(peer.tail <= opt.pack){\n\t\t\t\t\t\t\t//peer.batch.push(raw);\n\t\t\t\t\t\t\tpeer.batch += (tmp?',':'')+raw; // TODO: Prevent double JSON! // FOR v1.0 !?\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tflush(peer);\n\t\t\t\t\t}\n\t\t\t\t\t//peer.batch = [];\n\t\t\t\t\tpeer.batch = '['; // TODO: Prevent double JSON!\n\t\t\t\t\tvar S = +new Date, ST;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tconsole.STAT && (ST = +new Date - S) > 9 && console.STAT(S, ST, '0ms TO', id, peer.id);\n\t\t\t\t\t\tflush(peer);\n\t\t\t\t\t}, opt.gap);\n\t\t\t\t\tsend(raw, peer);\n\t\t\t\t}\n\t\t\t\tmesh.say.c = mesh.say.d = 0;\n\t\t\t}());\n\n\t\t\tfunction flush(peer){\n\t\t\t\tvar tmp = peer.batch, t = 'string' == typeof tmp, l;\n\t\t\t\tif(t){ tmp += ']' }// TODO: Prevent double JSON!\n\t\t\t\tpeer.batch = peer.tail = null;\n\t\t\t\tif(!tmp){ return }\n\t\t\t\tif(t? 3 > tmp.length : !tmp.length){ return } // TODO: ^\n\t\t\t\tif(!t){try{tmp = (1 === tmp.length? tmp[0] : JSON.stringify(tmp));\n\t\t\t\t}catch(e){return opt.log('DAM JSON stringify error', e)}}\n\t\t\t\tif(!tmp){ return }\n\t\t\t\tsend(tmp, peer);\n\t\t\t}\n\t\t\t// for now - find better place later.\n\t\t\tfunction send(raw, peer){ try{\n\t\t\t\tvar wire = peer.wire;\n\t\t\t\tif(peer.say){\n\t\t\t\t\tpeer.say(raw);\n\t\t\t\t} else\n\t\t\t\tif(wire.send){\n\t\t\t\t\twire.send(raw);\n\t\t\t\t}\n\t\t\t\tmesh.say.d += raw.length||0; ++mesh.say.c; // STATS!\n\t\t\t}catch(e){\n\t\t\t\t(peer.queue = peer.queue || []).push(raw);\n\t\t\t}}\n\n\t\t\t;(function(){\n\t\t\t\t// TODO: this caused a out-of-memory crash!\n\t\t\t\tmesh.raw = function(msg){ // TODO: Clean this up / delete it / move logic out!\n\t\t\t\t\tif(!msg){ return '' }\n\t\t\t\t\tvar meta = (msg._) || {}, put, hash, tmp;\n\t\t\t\t\tif(tmp = meta.raw){ return tmp }\n\t\t\t\t\tif('string' == typeof msg){ return msg }\n\t\t\t\t\t/*if(!msg.dam){ // TOOD: COME BACK TO THIS LATER!!! IMPORTANT MESH STUFF!!\n\t\t\t\t\t\tvar i = 0, to = []; Type.obj.map(opt.peers, function(p){\n\t\t\t\t\t\t\tto.push(p.url || p.pid || p.id); if(++i > 3){ return true } // limit server, fast fix, improve later! // For \"tower\" peer, MUST include 6 surrounding ids. // REDUCED THIS TO 3 for temporary relay peer performance, towers still should list neighbors.\n\t\t\t\t\t\t}); if(i > 1){ msg['><'] = to.join() }\n\t\t\t\t\t}*/  // TOOD: COME BACK TO THIS LATER!!! IMPORTANT MESH STUFF!!\n\t\t\t\t\tvar raw = $(msg); // optimize by reusing put = the JSON.stringify from .hash?\n\t\t\t\t\t/*if(u !== put){\n\t\t\t\t\t\ttmp = raw.indexOf(_, raw.indexOf('put'));\n\t\t\t\t\t\traw = raw.slice(0, tmp-1) + put + raw.slice(tmp + _.length + 1);\n\t\t\t\t\t\t//raw = raw.replace('\"'+ _ +'\"', put); // NEVER USE THIS! ALSO NEVER DELETE IT TO NOT MAKE SAME MISTAKE! https://github.com/amark/gun/wiki/@$$ Heisenbug\n\t\t\t\t\t}*/\n\t\t\t\t\t// TODO: PERF: tgif, CPU way too much on re-JSONifying ^ it.\n\t\t\t\t\t/*\n\t\t\t\t\t\t// NOTE TO SELF: Switch NTS to DAM now.\n\t\t\t\t\t*/\n\t\t\t\t\tif(meta && (raw||'').length < (1000 * 100)){ meta.raw = raw } // HNPERF: If string too big, don't keep in memory.\n\t\t\t\t\treturn raw;\n\t\t\t\t}\n\t\t\t\tvar $ = JSON.stringify, _ = ':])([:';\n\n\t\t\t}());\n\n\t\t\tmesh.hi = function(peer){\n\t\t\t\tvar tmp = peer.wire || {};\n\t\t\t\tif(peer.id){\n\t\t\t\t\topt.peers[peer.url || peer.id] = peer;\n\t\t\t\t} else {\n\t\t\t\t\ttmp = peer.id = peer.id || Type.text.random(9);\n\t\t\t\t\tmesh.say({dam: '?', pid: root.opt.pid}, opt.peers[tmp] = peer);\n\t\t\t\t\tdelete dup.s[peer.last]; // IMPORTANT: see https://gun.eco/docs/DAM#self\n\t\t\t\t}\n\t\t\t\tpeer.met = peer.met || +(new Date);\n\t\t\t\tif(!tmp.hied){ root.on(tmp.hied = 'hi', peer) }\n\t\t\t\t// @rogowski I need this here by default for now to fix go1dfish's bug\n\t\t\t\ttmp = peer.queue; peer.queue = [];\n\t\t\t\tType.obj.map(tmp, function(msg){\n\t\t\t\t\tsend(msg, peer);\n\t\t\t\t});\n\t\t\t\tType.obj.native && Type.obj.native(); // dirty place to check if other JS polluted.\n\t\t\t}\n\t\t\tmesh.bye = function(peer){\n\t\t\t\troot.on('bye', peer);\n\t\t\t\tvar tmp = +(new Date); tmp = (tmp - (peer.met||tmp));\n\t\t\t\tmesh.bye.time = ((mesh.bye.time || tmp) + tmp) / 2;\n\t\t\t}\n\t\t\tmesh.hear['!'] = function(msg, peer){ opt.log('Error:', msg.err) }\n\t\t\tmesh.hear['?'] = function(msg, peer){\n\t\t\t\tif(msg.pid){\n\t\t\t\t\tif(!peer.pid){ peer.pid = msg.pid }\n\t\t\t\t\tif(msg['@']){ return }\n\t\t\t\t}\n\t\t\t\tmesh.say({dam: '?', pid: opt.pid, '@': msg['#']}, peer);\n\t\t\t\tdelete dup.s[peer.last]; // IMPORTANT: see https://gun.eco/docs/DAM#self\n\t\t\t}\n\n\t\t\troot.on('create', function(root){\n\t\t\t\troot.opt.pid = root.opt.pid || Type.text.random(9);\n\t\t\t\tthis.to.next(root);\n\t\t\t\troot.on('out', mesh.say);\n\t\t\t});\n\n\t\t\troot.on('bye', function(peer, tmp){\n\t\t\t\tpeer = opt.peers[peer.id || peer] || peer;\n\t\t\t\tthis.to.next(peer);\n\t\t\t\tpeer.bye? peer.bye() : (tmp = peer.wire) && tmp.close && tmp.close();\n\t\t\t\tType.obj.del(opt.peers, peer.id);\n\t\t\t\tpeer.wire = null;\n\t\t\t});\n\n\t\t\tvar gets = {};\n\t\t\troot.on('bye', function(peer, tmp){ this.to.next(peer);\n\t\t\t\tif(!(tmp = peer.url)){ return } gets[tmp] = true;\n\t\t\t\tsetTimeout(function(){ delete gets[tmp] },opt.lack || 9000);\n\t\t\t});\n\t\t\troot.on('hi', function(peer, tmp){ this.to.next(peer);\n\t\t\t\tif(!(tmp = peer.url) || !gets[tmp]){ return } delete gets[tmp];\n\t\t\t\tif(opt.super){ return } // temporary (?) until we have better fix/solution?\n\t\t\t\tType.obj.map(root.next, function(node, soul){\n\t\t\t\t\ttmp = {}; tmp[soul] = root.graph[soul];\n\t\t\t\t\tmesh.say({'##': Type.obj.hash(tmp), get: {'#': soul}}, peer);\n\t\t\t\t})\n\t\t\t});\n\n\t\t\treturn mesh;\n\t\t}\n\n\t\t;(function(){\n\t\t\tvar $ = JSON.stringify, u;\n\n\t\t\tType.obj.hash = function(obj, hash){\n\t\t\t\tif(!hash && u === (obj = $(obj, sort))){ return }\n\t\t\t\treturn Type.text.hash(hash || obj || '');\n\t\t\t}\n\n\t\t\tfunction sort(k, v){ var tmp;\n\t\t\t\tif(!(v instanceof Object)){ return v }\n\t\t\t\tvar S = +new Date;\n\t\t\t\tType.obj.map(Object.keys(v).sort(), map, {to: tmp = {}, on: v});\n\t\t\t\tconsole.STAT && console.STAT(S, +new Date - S, 'sort');\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\tType.obj.hash.sort = sort;\n\n\t\t\tfunction map(k){\n\t\t\t\tthis.to[k] = this.on[k];\n\t\t\t}\n\t\t}());\n\n\t\tfunction it(msg){ return msg || {_: msg._, '##': msg['##']} } // HNPERF: Only need some meta data, not full reference (took up too much memory). // HNPERF: Garrrgh! We add meta data to msg over time, copying the object happens to early.\n\n\t  var empty = {}, ok = true, u;\n\t\tvar obj_is = Type.obj.is, obj_map = Type.obj.map;\n\n\t  try{ module.exports = Mesh }catch(e){}\n\n\t})(USE, './adapters/mesh');\n\n\t;USE(function(module){\n\t\tvar Gun = USE('../index');\n\t\tGun.Mesh = USE('./mesh');\n\n\t\tGun.on('opt', function(root){\n\t\t\tthis.to.next(root);\n\t\t\tvar opt = root.opt;\n\t\t\tif(root.once){ return }\n\t\t\tif(false === opt.WebSocket){ return }\n\n\t\t\tvar env;\n\t\t\tif(typeof window !== \"undefined\"){ env = window }\n\t\t\tif(typeof global !== \"undefined\"){ env = global }\n\t\t\tenv = env || {};\n\n\t\t\tvar websocket = opt.WebSocket || env.WebSocket || env.webkitWebSocket || env.mozWebSocket;\n\t\t\tif(!websocket){ return }\n\t\t\topt.WebSocket = websocket;\n\n\t\t\tvar mesh = opt.mesh = opt.mesh || Gun.Mesh(root);\n\n\t\t\tvar wire = mesh.wire || opt.wire;\n\t\t\tmesh.wire = opt.wire = open;\n\t\t\tfunction open(peer){ try{\n\t\t\t\tif(!peer || !peer.url){ return wire && wire(peer) }\n\t\t\t\tvar url = peer.url.replace(/^http/, 'ws');\n\t\t\t\tvar wire = peer.wire = new opt.WebSocket(url);\n\t\t\t\twire.onclose = function(){\n\t\t\t\t\topt.mesh.bye(peer);\n\t\t\t\t\treconnect(peer);\n\t\t\t\t};\n\t\t\t\twire.onerror = function(error){\n\t\t\t\t\treconnect(peer);\n\t\t\t\t};\n\t\t\t\twire.onopen = function(){\n\t\t\t\t\topt.mesh.hi(peer);\n\t\t\t\t}\n\t\t\t\twire.onmessage = function(msg){\n\t\t\t\t\tif(!msg){ return }\n\t\t\t\t\topt.mesh.hear(msg.data || msg, peer);\n\t\t\t\t};\n\t\t\t\treturn wire;\n\t\t\t}catch(e){}}\n\n\t\t\tsetTimeout(function(){ root.on('out', {dam:'hi'}) },1); // it can take a while to open a socket, so maybe no longer lazy load for perf reasons?\n\n\t\t\tvar wait = 2 * 1000;\n\t\t\tfunction reconnect(peer){\n\t\t\t\tclearTimeout(peer.defer);\n\t\t\t\tif(doc && peer.retry <= 0){ return } peer.retry = (peer.retry || opt.retry || 60) - 1;\n\t\t\t\tpeer.defer = setTimeout(function to(){\n\t\t\t\t\tif(doc && doc.hidden){ return setTimeout(to,wait) }\n\t\t\t\t\topen(peer);\n\t\t\t\t}, wait);\n\t\t\t}\n\t\t\tvar doc = 'undefined' !== typeof document && document;\n\t\t});\n\t\tvar noop = function(){};\n\t})(USE, './adapters/websocket');\n\n}());\n","/* src/App.svelte generated by Svelte v3.29.0 */\nimport {\n\tSvelteComponentDev,\n\tadd_location,\n\tappend_dev,\n\tdetach_dev,\n\tdispatch_dev,\n\telement,\n\tinit,\n\tinsert_dev,\n\tlisten_dev,\n\tnoop,\n\tprevent_default,\n\tsafe_not_equal,\n\tspace,\n\tvalidate_slots\n} from \"svelte/internal\";\n\nimport Gun from \"gun/gun\";\nconst file = \"src/App.svelte\";\n\nfunction create_fragment(ctx) {\n\tlet main;\n\tlet pre;\n\tlet t1;\n\tlet button;\n\tlet mounted;\n\tlet dispose;\n\n\tconst block = {\n\t\tc: function create() {\n\t\t\tmain = element(\"main\");\n\t\t\tpre = element(\"pre\");\n\t\t\tpre.textContent = `${JSON.stringify(/*state*/ ctx[0], null, 2)}`;\n\t\t\tt1 = space();\n\t\t\tbutton = element(\"button\");\n\t\t\tbutton.textContent = \"click me\";\n\t\t\tadd_location(pre, file, 12, 1, 168);\n\t\t\tadd_location(button, file, 13, 1, 213);\n\t\t\tadd_location(main, file, 11, 0, 160);\n\t\t},\n\t\tl: function claim(nodes) {\n\t\t\tthrow new Error(\"options.hydrate only works if the component was compiled with the `hydratable: true` option\");\n\t\t},\n\t\tm: function mount(target, anchor) {\n\t\t\tinsert_dev(target, main, anchor);\n\t\t\tappend_dev(main, pre);\n\t\t\tappend_dev(main, t1);\n\t\t\tappend_dev(main, button);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen_dev(button, \"click\", prevent_default(handleClick), false, true, false);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td: function destroy(detaching) {\n\t\t\tif (detaching) detach_dev(main);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n\n\tdispatch_dev(\"SvelteRegisterBlock\", {\n\t\tblock,\n\t\tid: create_fragment.name,\n\t\ttype: \"component\",\n\t\tsource: \"\",\n\t\tctx\n\t});\n\n\treturn block;\n}\n\nfunction handleClick() {\n\t\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { $$slots: slots = {}, $$scope } = $$props;\n\tvalidate_slots(\"App\", slots, []);\n\tconst gun = Gun(\"http://localhost:8765/gun\");\n\tconst state = {};\n\tconst writable_props = [];\n\n\tObject.keys($$props).forEach(key => {\n\t\tif (!~writable_props.indexOf(key) && key.slice(0, 2) !== \"$$\") console.warn(`<App> was created with unknown prop '${key}'`);\n\t});\n\n\t$$self.$capture_state = () => ({ Gun, gun, state, handleClick });\n\treturn [state];\n}\n\nclass App extends SvelteComponentDev {\n\tconstructor(options) {\n\t\tsuper(options);\n\t\tinit(this, options, instance, create_fragment, safe_not_equal, {});\n\n\t\tdispatch_dev(\"SvelteRegisterComponent\", {\n\t\t\tcomponent: this,\n\t\t\ttagName: \"App\",\n\t\t\toptions,\n\t\t\tid: create_fragment.name\n\t\t});\n\t}\n}\n\nexport default App;","\nimport App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body\n});\n\nexport default app;","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}